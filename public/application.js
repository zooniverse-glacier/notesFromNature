((function(){function a(b,c,d){if(b===c)return 0!==b||1/b==1/c;if(null==b||null==c)return b===c;b._chain&&(b=b._wrapped),c._chain&&(c=c._wrapped);if(b.isEqual&&v.isFunction(b.isEqual))return b.isEqual(c);if(c.isEqual&&v.isFunction(c.isEqual))return c.isEqual(b);var e=i.call(b);if(e!=i.call(c))return!1;switch(e){case"[object String]":return b==""+c;case"[object Number]":return b!=+b?c!=+c:0==b?1/b==1/c:b==+c;case"[object Date]":case"[object Boolean]":return+b==+c;case"[object RegExp]":return b.source==c.source&&b.global==c.global&&b.multiline==c.multiline&&b.ignoreCase==c.ignoreCase}if("object"!=typeof b||"object"!=typeof c)return!1;for(var f=d.length;f--;)if(d[f]==b)return!0;d.push(b);var f=0,g=!0;if("[object Array]"==e){if(f=b.length,g=f==c.length)for(;f--&&(g=f in b==f in c&&a(b[f],c[f],d)););}else{if("constructor"in b!="constructor"in c||b.constructor!=c.constructor)return!1;for(var h in b)if(v.has(b,h)&&(f++,!(g=v.has(c,h)&&a(b[h],c[h],d))))break;if(g){for(h in c)if(v.has(c,h)&&!(f--))break;g=!f}}return d.pop(),g}var b=this,c=b._,d={},e=Array.prototype,f=Object.prototype,g=e.slice,h=e.unshift,i=f.toString,j=f.hasOwnProperty,k=e.forEach,l=e.map,m=e.reduce,n=e.reduceRight,o=e.filter,p=e.every,q=e.some,r=e.indexOf,s=e.lastIndexOf,f=Array.isArray,t=Object.keys,u=Function.prototype.bind,v=function(a){return new G(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):b._=v,v.VERSION="1.3.3";var w=v.each=v.forEach=function(a,b,c){if(a!=null)if(k&&a.forEach===k)a.forEach(b,c);else if(a.length===+a.length){for(var e=0,f=a.length;e<f;e++)if(e in a&&b.call(c,a[e],e,a)===d)break}else for(e in a)if(v.has(a,e)&&b.call(c,a[e],e,a)===d)break};v.map=v.collect=function(a,b,c){var d=[];return a==null?d:l&&a.map===l?a.map(b,c):(w(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),a.length===+a.length&&(d.length=a.length),d)},v.reduce=v.foldl=v.inject=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(m&&a.reduce===m)return d&&(b=v.bind(b,d)),e?a.reduce(b,c):a.reduce(b);w(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c},v.reduceRight=v.foldr=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(n&&a.reduceRight===n)return d&&(b=v.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=v.toArray(a).reverse();return d&&!e&&(b=v.bind(b,d)),e?v.reduce(f,b,c,d):v.reduce(f,b)},v.find=v.detect=function(a,b,c){var d;return x(a,function(a,e,f){if(b.call(c,a,e,f))return d=a,!0}),d},v.filter=v.select=function(a,b,c){var d=[];return a==null?d:o&&a.filter===o?a.filter(b,c):(w(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},v.reject=function(a,b,c){var d=[];return a==null?d:(w(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)}),d)},v.every=v.all=function(a,b,c){var e=!0;return a==null?e:p&&a.every===p?a.every(b,c):(w(a,function(a,f,g){if(!(e=e&&b.call(c,a,f,g)))return d}),!!e)};var x=v.some=v.any=function(a,b,c){b||(b=v.identity);var e=!1;return a==null?e:q&&a.some===q?a.some(b,c):(w(a,function(a,f,g){if(e||(e=b.call(c,a,f,g)))return d}),!!e)};v.include=v.contains=function(a,b){var c=!1;return a==null?c:r&&a.indexOf===r?a.indexOf(b)!=-1:c=x(a,function(a){return a===b})},v.invoke=function(a,b){var c=g.call(arguments,2);return v.map(a,function(a){return(v.isFunction(b)?b||a:a[b]).apply(a,c)})},v.pluck=function(a,b){return v.map(a,function(a){return a[b]})},v.max=function(a,b,c){if(!b&&v.isArray(a)&&a[0]===+a[0])return Math.max.apply(Math,a);if(!b&&v.isEmpty(a))return-Infinity;var d={computed:-Infinity};return w(a,function(a,e,f){e=b?b.call(c,a,e,f):a,e>=d.computed&&(d={value:a,computed:e})}),d.value},v.min=function(a,b,c){if(!b&&v.isArray(a)&&a[0]===+a[0])return Math.min.apply(Math,a);if(!b&&v.isEmpty(a))return Infinity;var d={computed:Infinity};return w(a,function(a,e,f){e=b?b.call(c,a,e,f):a,e<d.computed&&(d={value:a,computed:e})}),d.value},v.shuffle=function(a){var b=[],c;return w(a,function(a,d){c=Math.floor(Math.random()*(d+1)),b[d]=b[c],b[c]=a}),b},v.sortBy=function(a,b,c){var d=v.isFunction(b)?b:function(a){return a[b]};return v.pluck(v.map(a,function(a,b,e){return{value:a,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return c===void 0?1:d===void 0?-1:c<d?-1:c>d?1:0}),"value")},v.groupBy=function(a,b){var c={},d=v.isFunction(b)?b:function(a){return a[b]};return w(a,function(a,b){var e=d(a,b);(c[e]||(c[e]=[])).push(a)}),c},v.sortedIndex=function(a,b,c){c||(c=v.identity);for(var d=0,e=a.length;d<e;){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d},v.toArray=function(a){return a?v.isArray(a)||v.isArguments(a)?g.call(a):a.toArray&&v.isFunction(a.toArray)?a.toArray():v.values(a):[]},v.size=function(a){return v.isArray(a)?a.length:v.keys(a).length},v.first=v.head=v.take=function(a,b,c){return b!=null&&!c?g.call(a,0,b):a[0]},v.initial=function(a,b,c){return g.call(a,0,a.length-(b==null||c?1:b))},v.last=function(a,b,c){return b!=null&&!c?g.call(a,Math.max(a.length-b,0)):a[a.length-1]},v.rest=v.tail=function(a,b,c){return g.call(a,b==null||c?1:b)},v.compact=function(a){return v.filter(a,function(a){return!!a})},v.flatten=function(a,b){return v.reduce(a,function(a,c){return v.isArray(c)?a.concat(b?c:v.flatten(c)):(a[a.length]=c,a)},[])},v.without=function(a){return v.difference(a,g.call(arguments,1))},v.uniq=v.unique=function(a,b,c){var c=c?v.map(a,c):a,d=[];return a.length<3&&(b=!0),v.reduce(c,function(c,e,f){if(b?v.last(c)!==e||!c.length:!v.include(c,e))c.push(e),d.push(a[f]);return c},[]),d},v.union=function(){return v.uniq(v.flatten(arguments,!0))},v.intersection=v.intersect=function(a){var b=g.call(arguments,1);return v.filter(v.uniq(a),function(a){return v.every(b,function(b){return v.indexOf(b,a)>=0})})},v.difference=function(a){var b=v.flatten(g.call(arguments,1),!0);return v.filter(a,function(a){return!v.include(b,a)})},v.zip=function(){for(var a=g.call(arguments),b=v.max(v.pluck(a,"length")),c=Array(b),d=0;d<b;d++)c[d]=v.pluck(a,""+d);return c},v.indexOf=function(a,b,c){if(a==null)return-1;var d;if(c)return c=v.sortedIndex(a,b),a[c]===b?c:-1;if(r&&a.indexOf===r)return a.indexOf(b);c=0;for(d=a.length;c<d;c++)if(c in a&&a[c]===b)return c;return-1},v.lastIndexOf=function(a,b){if(a==null)return-1;if(s&&a.lastIndexOf===s)return a.lastIndexOf(b);for(var c=a.length;c--;)if(c in a&&a[c]===b)return c;return-1},v.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0);for(var c=arguments[2]||1,d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);e<d;)f[e++]=a,a+=c;return f};var y=function(){};v.bind=function(a,b){var c,d;if(a.bind===u&&u)return u.apply(a,g.call(arguments,1));if(!v.isFunction(a))throw new TypeError;return d=g.call(arguments,2),c=function(){if(this instanceof c){y.prototype=a.prototype;var e=new y,f=a.apply(e,d.concat(g.call(arguments)));return Object(f)===f?f:e}return a.apply(b,d.concat(g.call(arguments)))}},v.bindAll=function(a){var b=g.call(arguments,1);return b.length==0&&(b=v.functions(a)),w(b,function(b){a[b]=v.bind(a[b],a)}),a},v.memoize=function(a,b){var c={};return b||(b=v.identity),function(){var d=b.apply(this,arguments);return v.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},v.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},v.defer=function(a){return v.delay.apply(v,[a,1].concat(g.call(arguments,1)))},v.throttle=function(a,b){var c,d,e,f,g,h,i=v.debounce(function(){g=f=!1},b);return function(){return c=this,d=arguments,e||(e=setTimeout(function(){e=null,g&&a.apply(c,d),i()},b)),f?g=!0:h=a.apply(c,d),i(),f=!0,h}},v.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments;c&&!d&&a.apply(e,f),clearTimeout(d),d=setTimeout(function(){d=null,c||a.apply(e,f)},b)}},v.once=function(a){var b=!1,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments))}},v.wrap=function(a,b){return function(){var c=[a].concat(g.call(arguments,0));return b.apply(this,c)}},v.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},v.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}},v.keys=t||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)v.has(a,c)&&(b[b.length]=c);return b},v.values=function(a){return v.map(a,v.identity)},v.functions=v.methods=function(a){var b=[],c;for(c in a)v.isFunction(a[c])&&b.push(c);return b.sort()},v.extend=function(a){return w(g.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},v.pick=function(a){var b={};return w(v.flatten(g.call(arguments,1)),function(c){c in a&&(b[c]=a[c])}),b},v.defaults=function(a){return w(g.call(arguments,1),function(b){for(var c in b)a[c]==null&&(a[c]=b[c])}),a},v.clone=function(a){return v.isObject(a)?v.isArray(a)?a.slice():v.extend({},a):a},v.tap=function(a,b){return b(a),a},v.isEqual=function(b,c){return a(b,c,[])},v.isEmpty=function(a){if(a==null)return!0;if(v.isArray(a)||v.isString(a))return a.length===0;for(var b in a)if(v.has(a,b))return!1;return!0},v.isElement=function(a){return!!a&&a.nodeType==1},v.isArray=f||function(a){return i.call(a)=="[object Array]"},v.isObject=function(a){return a===Object(a)},v.isArguments=function(a){return i.call(a)=="[object Arguments]"},v.isArguments(arguments)||(v.isArguments=function(a){return!!a&&!!v.has(a,"callee")}),v.isFunction=function(a){return i.call(a)=="[object Function]"},v.isString=function(a){return i.call(a)=="[object String]"},v.isNumber=function(a){return i.call(a)=="[object Number]"},v.isFinite=function(a){return v.isNumber(a)&&isFinite(a)},v.isNaN=function(a){return a!==a},v.isBoolean=function(a){return a===!0||a===!1||i.call(a)=="[object Boolean]"},v.isDate=function(a){return i.call(a)=="[object Date]"},v.isRegExp=function(a){return i.call(a)=="[object RegExp]"},v.isNull=function(a){return a===null},v.isUndefined=function(a){return a===void 0},v.has=function(a,b){return j.call(a,b)},v.noConflict=function(){return b._=c,this},v.identity=function(a){return a},v.times=function(a,b,c){for(var d=0;d<a;d++)b.call(c,d)},v.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},v.result=function(a,b){if(a==null)return null;var c=a[b];return v.isFunction(c)?c.call(a):c},v.mixin=function(a){w(v.functions(a),function(b){I(b,v[b]=a[b])})};var z=0;v.uniqueId=function(a){var b=z++;return a?a+b:b},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/.^/,B={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"},C;for(C in B)B[B[C]]=C;var D=/\\|'|\r|\n|\t|\u2028|\u2029/g,E=/\\(\\|'|r|n|t|u2028|u2029)/g,F=function(a){return a.replace(E,function(a,b){return B[b]})};v.template=function(a,b,c){c=v.defaults(c||{},v.templateSettings),a="__p+='"+a.replace(D,function(a){return"\\"+B[a]}).replace(c.escape||A,function(a,b){return"'+\n_.escape("+F(b)+")+\n'"}).replace(c.interpolate||A,function(a,b){return"'+\n("+F(b)+")+\n'"}).replace(c.evaluate||A,function(a,b){return"';\n"+F(b)+"\n;__p+='"})+"';\n",c.variable||(a="with(obj||{}){\n"+a+"}\n");var a="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+a+"return __p;\n",d=new Function(c.variable||"obj","_",a);return b?d(b,v):(b=function(a){return d.call(this,a,v)},b.source="function("+(c.variable||"obj")+"){\n"+a+"}",b)},v.chain=function(a){return v(a).chain()};var G=function(a){this._wrapped=a};v.prototype=G.prototype;var H=function(a,b){return b?v(a).chain():a},I=function(a,b){G.prototype[a]=function(){var a=g.call(arguments);return h.call(a,this._wrapped),H(b.apply(v,a),this._chain)}};v.mixin(v),w("pop,push,reverse,shift,sort,splice,unshift".split(","),function(a){var b=e[a];G.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;return(a=="shift"||a=="splice")&&d===0&&delete c[0],H(c,this._chain)}}),w(["concat","join","slice"],function(a){var b=e[a];G.prototype[a]=function(){return H(b.apply(this._wrapped,arguments),this._chain)}}),G.prototype.chain=function(){return this._chain=!0,this},G.prototype.value=function(){return this._wrapped}})).call(this),function(a){var b=String.prototype.trim,c=function(a,b){for(var c=[];0<b;c[--b]=a);return c.join("")},d=function(a){return function(){for(var b=Array.prototype.slice.call(arguments),c=0;c<b.length;c++)b[c]=null==b[c]?"":""+b[c];return a.apply(null,b)}},e=function(){function a(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var b=function(){return b.cache.hasOwnProperty(arguments[0])||(b.cache[arguments[0]]=b.parse(arguments[0])),b.format.call(null,b.cache[arguments[0]],arguments)};return b.format=function(b,d){var f=1,g=b.length,h="",i=[],j,k,n,o;for(j=0;j<g;j++)if(h=a(b[j]),"string"===h)i.push(b[j]);else if("array"===h){n=b[j];if(n[2]){h=d[f];for(k=0;k<n[2].length;k++){if(!h.hasOwnProperty(n[2][k]))throw e('[_.sprintf] property "%s" does not exist',n[2][k]);h=h[n[2][k]]}}else h=n[1]?d[n[1]]:d[f++];if(/[^s]/.test(n[8])&&"number"!=a(h))throw e("[_.sprintf] expecting number but found %s",a(h));switch(n[8]){case"b":h=h.toString(2);break;case"c":h=String.fromCharCode(h);break;case"d":h=parseInt(h,10);break;case"e":h=n[7]?h.toExponential(n[7]):h.toExponential();break;case"f":h=n[7]?parseFloat(h).toFixed(n[7]):parseFloat(h);break;case"o":h=h.toString(8);break;case"s":h=(h=""+h)&&n[7]?h.substring(0,n[7]):h;break;case"u":h=Math.abs(h);break;case"x":h=h.toString(16);break;case"X":h=h.toString(16).toUpperCase()}h=/[def]/.test(n[8])&&n[3]&&0<=h?"+"+h:h,k=n[4]?"0"==n[4]?"0":n[4].charAt(1):" ",o=n[6]-(""+h).length,k=n[6]?c(k,o):"",i.push(n[5]?h+k:k+h)}return i.join("")},b.cache={},b.parse=function(a){for(var b=[],c=[],d=0;a;){if(null!==(b=/^[^\x25]+/.exec(a)))c.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(a)))c.push("%");else{if(null===(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a)))throw"[_.sprintf] huh?";if(b[2]){var d=d|1,e=[],f=b[2],g=[];if(null===(g=/^([a-z_][a-z_\d]*)/i.exec(f)))throw"[_.sprintf] huh?";for(e.push(g[1]);""!==(f=f.substring(g[0].length));)if(null!==(g=/^\.([a-z_][a-z_\d]*)/i.exec(f)))e.push(g[1]);else if(null!==(g=/^\[(\d+)\]/.exec(f)))e.push(g[1]);else throw"[_.sprintf] huh?";b[2]=e}else d|=2;if(3===d)throw"[_.sprintf] mixing positional and named placeholders is not (yet) supported";c.push(b)}a=a.substring(b[0].length)}return c},b}(),f={VERSION:"2.0.0",isBlank:d(function(a){return/^\s*$/.test(a)}),stripTags:d(function(a){return a.replace(/<\/?[^>]+>/ig,"")}),capitalize:d(function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()}),chop:d(function(a,b){for(var b=1*b||0||a.length,c=[],d=0;d<a.length;)c.push(a.slice(d,d+b)),d+=b;return c}),clean:d(function(a){return f.strip(a.replace(/\s+/g," "))}),count:d(function(a,b){for(var c=0,d,e=0;e<a.length;)d=a.indexOf(b,e),0<=d&&c++,e=e+(0<=d?d:0)+b.length;return c}),chars:d(function(a){return a.split("")}),escapeHTML:d(function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}),unescapeHTML:d(function(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&")}),escapeRegExp:d(function(a){return a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")}),insert:d(function(a,b,c){return a=a.split(""),a.splice(1*b||0,0,c),a.join("")}),include:d(function(a,b){return-1!==a.indexOf(b)}),join:d(function(a){var b=Array.prototype.slice.call(arguments);return b.join(b.shift())}),lines:d(function(a){return a.split("\n")}),reverse:d(function(a){return Array.prototype.reverse.apply((""+a).split("")).join("")}),splice:d(function(a,b,c,d){return a=a.split(""),a.splice(1*b||0,1*c||0,d),a.join("")}),startsWith:d(function(a,b){return a.length>=b.length&&a.substring(0,b.length)===b}),endsWith:d(function(a,b){return a.length>=b.length&&a.substring(a.length-b.length)===b}),succ:d(function(a){var b=a.split("");return b.splice(a.length-1,1,String.fromCharCode(a.charCodeAt(a.length-1)+1)),b.join("")}),titleize:d(function(a){for(var a=a.split(" "),b,c=0;c<a.length;c++)b=a[c].split(""),"undefined"!=typeof b[0]&&(b[0]=b[0].toUpperCase()),c+1===a.length?a[c]=b.join(""):a[c]=b.join("")+" ";return a.join("")}),camelize:d(function(a){return f.trim(a).replace(/(\-|_|\s)+(.)?/g,function(a,b,c){return c?c.toUpperCase():""})}),underscored:function(a){return f.trim(a).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/\-|\s+/g,"_").toLowerCase()},dasherize:function(a){return f.trim(a).replace(/([a-z\d])([A-Z]+)/g,"$1-$2").replace(/^([A-Z]+)/,"-$1").replace(/\_|\s+/g,"-").toLowerCase()},humanize:function(a){return f.capitalize(this.underscored(a).replace(/_id$/,"").replace(/_/g," "))},trim:d(function(a,c){return!c&&b?b.call(a):(c=c?f.escapeRegExp(c):"\\s",a.replace(RegExp("^["+c+"]+|["+c+"]+$","g"),""))}),ltrim:d(function(a,b){return b=b?f.escapeRegExp(b):"\\s",a.replace(RegExp("^["+b+"]+","g"),"")}),rtrim:d(function(a,b){return b=b?f.escapeRegExp(b):"\\s",a.replace(RegExp("["+b+"]+$","g"),"")}),truncate:d(function(a,b,c){return b=1*b||0,a.length>b?a.slice(0,b)+(c||"..."):a}),prune:d(function(a,b,c){var d="",e="",e=0,c=c||"...",b=1*b||0;for(e in a)d+=a[e].toUpperCase()!=a[e].toLowerCase()||/[-_\d]/.test(a[e])?"A":" ";return e=0===d.substring(b-1,b+1).search(/^\w\w$/)?f.rtrim(d.slice(0,b).replace(/([\W][\w]*)$/,"")):f.rtrim(d.slice(0,b)),e=e.replace(/\W+$/,""),e.length+c.length>a.length?a:a.substring(0,e.length)+c}),words:function(a,b){return(""+a).split(b||" ")},pad:d(function(a,b,d,e){var f="",f=0,b=1*b||0;d?1<d.length&&(d=d.charAt(0)):d=" ";switch(e){case"right":f=b-a.length,f=c(d,f),a+=f;break;case"both":f=b-a.length,f={left:c(d,Math.ceil(f/2)),right:c(d,Math.floor(f/2))},a=f.left+a+f.right;break;default:f=b-a.length,f=c(d,f),a=f+a}return a}),lpad:function(a,b,c){return f.pad(a,b,c)},rpad:function(a,b,c){return f.pad(a,b,c,"right")},lrpad:function(a,b,c){return f.pad(a,b,c,"both")},sprintf:e,vsprintf:function(a,b){return b.unshift(a),e.apply(null,b)},toNumber:function(a,b){var c;return c=1*(1*a||0).toFixed(1*b||0)||0,0!==c||"0"===a||0===a?c:Number.NaN},strRight:d(function(a,b){var c=b?a.indexOf(b):-1;return-1!=c?a.slice(c+b.length,a.length):a}),strRightBack:d(function(a,b){var c=b?a.lastIndexOf(b):-1;return-1!=c?a.slice(c+b.length,a.length):a}),strLeft:d(function(a,b){var c=b?a.indexOf(b):-1;return-1!=c?a.slice(0,c):a}),strLeftBack:d(function(a,b){var c=a.lastIndexOf(b);return-1!=c?a.slice(0,c):a}),exports:function(){var a={},b;for(b in this)this.hasOwnProperty(b)&&"include"!=b&&"contains"!=b&&"reverse"!=b&&(a[b]=this[b]);return a}};f.strip=f.trim,f.lstrip=f.ltrim,f.rstrip=f.rtrim,f.center=f.lrpad,f.ljust=f.lpad,f.rjust=f.rpad,f.contains=f.include,"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=f),exports._s=f):"undefined"!=typeof a._?(a._.string=f,a._.str=a._.string):a._={string:f,str:f}}(this||window),function(){if(!this.require){var a={},b={},c=function(f,g){var h=d(g,f),i=d(h,"./index"),j,k;j=b[h]||b[i];if(j)return j;if(k=a[h]||a[h=i])return j={id:h,exports:{}},b[h]=j.exports,k(j.exports,function(a){return c(a,e(h))},j),b[h]=j.exports;throw"module "+f+" not found"},d=function(a,b){var c=[],d,e;/^\.\.?(\/|$)/.test(b)?d=[a,b].join("/").split("/"):d=b.split("/");for(var f=0,g=d.length;f<g;f++)e=d[f],e==".."?c.pop():e!="."&&e!=""&&c.push(e);return c.join("/")},e=function(a){return a.split("/").slice(0,-1).join("/")};this.require=function(a){return c(a,"")},this.require.define=function(b){for(var c in b)a[c]=b[c]},this.require.modules=a,this.require.cache=b}return this.require.define}.call(this)({"es5-shimify/index":function(a,b,c){(function(a){typeof define=="function"?define(function(){a()}):a()})(function(a){if(!Function.prototype.bind){var b=Array.prototype.slice;Function.prototype.bind=function(a){function e(){if(this instanceof e){var a=Object.create(c.prototype);return c.apply(a,d.concat(b.call(arguments))),a}return c.call.apply(c,d.concat(b.call(arguments)))}var c=this;if(typeof c.apply!="function"||typeof c.call!="function")return new TypeError;var d=b.call(arguments);return e.length=typeof c=="function"?Math.max(c.length-d.length,0):0,e}}var c=Function.prototype.call,d=Array.prototype,e=Object.prototype,f=c.bind(e.hasOwnProperty),g,h,i,j,k;if(k=f(e,"__defineGetter__"))g=c.bind(e.__defineGetter__),h=c.bind(e.__defineSetter__),i=c.bind(e.__lookupGetter__),j=c.bind(e.__lookupSetter__);Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c=+this.length;for(var d=0;d<c;d++)d in this&&a.call(b,this[d],d,this)}),Array.prototype.map||(Array.prototype.map=function(a){var b=+this.length;if(typeof a!="function")throw new TypeError;var c=new Array(b),d=arguments[1];for(var e=0;e<b;e++)e in this&&(c[e]=a.call(d,this[e],e,this));return c}),Array.prototype.filter||(Array.prototype.filter=function(a){var b=[],c=arguments[1];for(var d=0;d<this.length;d++)a.call(c,this[d])&&b.push(this[d]);return b}),Array.prototype.every||(Array.prototype.every=function(a){var b=arguments[1];for(var c=0;c<this.length;c++)if(!a.call(b,this[c]))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(a){var b=arguments[1];for(var c=0;c<this.length;c++)if(a.call(b,this[c]))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(a){var b=+this.length;if(typeof a!="function")throw new TypeError;if(b===0&&arguments.length===1)throw new TypeError;var c=0;if(arguments.length>=2)var d=arguments[1];else do{if(c in this){d=this[c++];break}if(++c>=b)throw new TypeError}while(!0);for(;c<b;c++)c in this&&(d=a.call(null,d,this[c],c,this));return d}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){var b=+this.length;if(typeof a!="function")throw new TypeError;if(b===0&&arguments.length===1)throw new TypeError;var c,d=b-1;if(arguments.length>=2)c=arguments[1];else do{if(d in this){c=this[d--];break}if(--d<0)throw new TypeError}while(!0);for(;d>=0;d--)d in this&&(c=a.call(null,c,this[d],d,this));return c}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length;if(!b)return-1;var c=arguments[1]||0;if(c>=b)return-1;c<0&&(c+=b);for(;c<b;c++){if(!(c in this))continue;if(a===this[c])return c}return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){var b=this.length;if(!b)return-1;var c=arguments[1]||b;c<0&&(c+=b),c=Math.min(c,b-1);for(;c>=0;c--){if(!(c in this))continue;if(a===this[c])return c}return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__||a.constructor.prototype});if(!Object.getOwnPropertyDescriptor){var l="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(b,c){if(typeof b!="object"&&typeof b!="function"||b===null)throw new TypeError(l+b);if(!f(b,c))return a;var d,g,h;d={enumerable:!0,configurable:!0};if(k){var m=b.__proto__;b.__proto__=e;var g=i(b,c),h=j(b,c);b.__proto__=m;if(g||h)return g&&(d.get=g),h&&(d.set=h),d}return d.value=b[c],d}}Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(a){return Object.keys(a)}),Object.create||(Object.create=function(a,b){var c;if(a===null)c={__proto__:null};else{if(typeof a!="object")throw new TypeError("typeof prototype["+typeof a+"] != 'object'");var d=function(){};d.prototype=a,c=new d,c.__proto__=a}return typeof b!="undefined"&&Object.defineProperties(c,b),c});if(!Object.defineProperty){var m="Property description must be an object: ",n="Object.defineProperty called on non-object: ",o="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(a,b,c){if(typeof a!="object"&&typeof a!="function")throw new TypeError(n+a);if(typeof c!="object"||c===null)throw new TypeError(m+c);if(f(c,"value"))if(k&&(i(a,b)||j(a,b))){var d=a.__proto__;a.__proto__=e,delete a[b],a[b]=c.value,a.__proto__=d}else a[b]=c.value;else{if(!k)throw new TypeError(o);f(c,"get")&&g(a,b,c.get),f(c,"set")&&h(a,b,c.set)}return a}}Object.defineProperties||(Object.defineProperties=function(a,b){for(var c in b)f(b,c)&&Object.defineProperty(a,c,b[c]);return a}),Object.seal||(Object.seal=function(a){return a}),Object.freeze||(Object.freeze=function(a){return a});try{Object.freeze(function(){})}catch(p){Object.freeze=function(a){return function b(b){return typeof b=="function"?b:a(b)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(a){return a}),Object.isSealed||(Object.isSealed=function(a){return!1}),Object.isFrozen||(Object.isFrozen=function(a){return!1}),Object.isExtensible||(Object.isExtensible=function(a){return!0});if(!Object.keys){var q=!0,r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=r.length;for(var t in{toString:null})q=!1;Object.keys=function U(a){if(typeof a!="object"&&typeof a!="function"||a===null)throw new TypeError("Object.keys called on a non-object");var U=[];for(var b in a)f(a,b)&&U.push(b);if(q)for(var c=0,d=s;c<d;c++){var e=r[c];f(a,e)&&U.push(e)}return U}}Date.prototype.toISOString||(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+(this.getUTCMonth()+1)+"-"+this.getUTCDate()+"T"+this.getUTCHours()+":"+this.getUTCMinutes()+":"+this.getUTCSeconds()+"Z"}),Date.now||(Date.now=function(){return(new Date).getTime()}),Date.prototype.toJSON||(Date.prototype.toJSON=function(a){if(typeof this.toISOString!="function")throw new TypeError;return this.toISOString()}),isNaN(Date.parse("T00:00"))&&(Date=function(b){var c=function(a,d,e,f,g,h,i){var j=arguments.length;if(this instanceof b){var k=j===1&&String(a)===a?new b(c.parse(a)):j>=7?new b(a,d,e,f,g,h,i):j>=6?new b(a,d,e,f,g,h):j>=5?new b(a,d,e,f,g):j>=4?new b(a,d,e,f):j>=3?new b(a,d,e):j>=2?new b(a,d):j>=1?new b(a):new b;return k.constructor=c,k}return b.apply(this,arguments)},d=new RegExp("^(?:((?:[+-]\\d\\d)?\\d\\d\\d\\d)(?:-(\\d\\d)(?:-(\\d\\d))?)?)?(?:T(\\d\\d):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?)?(?:Z|([+-])(\\d\\d):(\\d\\d))?$");for(var e in b)c[e]=b[e];return c.now=b.now,c.UTC=b.UTC,c.prototype=b.prototype,c.prototype.constructor=c,c.parse=function f(c){var e=d.exec(c);if(e){e.shift();var f=e[0]===a;for(var g=0;g<10;g++){if(g===7)continue;e[g]=+(e[g]||(g<3?1:0)),g===1&&e[g]--}if(f)return((e[3]*60+e[4])*60+e[5])*1e3+e[6];var h=(e[8]*60+e[9])*60*1e3;return e[6]==="-"&&(h=-h),b.UTC.apply(this,e.slice(0,7))+h}return b.parse.apply(this,arguments)},c}(Date));if(!String.prototype.trim){var u=/^\s\s*/,v=/\s\s*$/;String.prototype.trim=function(){return String(this).replace(u,"").replace(v,"")}}})},"json2ify/index":function(exports,require,module){this.JSON||(this.JSON={}),module.exports=JSON,function(){function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";return e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)d=rep[c],typeof d=="string"&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));return e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g,e}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return str("",{"":a});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},"spine/index":function(a,b,c){c.exports=b("./lib/spine")},"spine/lib/spine":function(a,b,c){((function(){var a,b,d,e,f,g,h,i,j,k,l,m,n=[].slice,o=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},p={}.hasOwnProperty,q=function(a,b){function d(){this.constructor=a}for(var c in b)p.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},r=function(a,b){return function(){return a.apply(b,arguments)}};d={bind:function(a,b){var c,d,e,f,g;d=a.split(" "),c=this.hasOwnProperty("_callbacks")&&this._callbacks||(this._callbacks={});for(f=0,g=d.length;f<g;f++)e=d[f],c[e]||(c[e]=[]),c[e].push(b);return this},one:function(a,b){return this.bind(a,function(){return this.unbind(a,arguments.callee),b.apply(this,arguments)})},trigger:function(){var a,b,c,d,e,f,g;a=1<=arguments.length?n.call(arguments,0):[],c=a.shift(),d=this.hasOwnProperty("_callbacks")&&((g=this._callbacks)!=null?g[c]:void 0);if(!d)return;for(e=0,f=d.length;e<f;e++){b=d[e];if(b.apply(this,a)===!1)break}return!0},unbind:function(a,b){var c,d,e,f,g,h;if(!a)return this._callbacks={},this;e=(h=this._callbacks)!=null?h[a]:void 0;if(!e)return this;if(!b)return delete this._callbacks[a],this;for(d=f=0,g=e.length;f<g;d=++f){c=e[d];if(c!==b)continue;e=e.slice(),e.splice(d,1),this._callbacks[a]=e;break}return this}},e={trace:!0,logPrefix:"(App)",log:function(){var a;a=1<=arguments.length?n.call(arguments,0):[];if(!this.trace)return;return this.logPrefix&&a.unshift(this.logPrefix),typeof console!="undefined"&&console!==null&&typeof console.log=="function"&&console.log.apply(console,a),this}},m=["included","extended"],g=function(){function a(){typeof this.init=="function"&&this.init.apply(this,arguments)}return a.include=function(a){var b,c,d;if(!a)throw new Error("include(obj) requires obj");for(b in a)c=a[b],o.call(m,b)<0&&(this.prototype[b]=c);return(d=a.included)!=null&&d.apply(this),this},a.extend=function(a){var b,c,d;if(!a)throw new Error("extend(obj) requires obj");for(b in a)c=a[b],o.call(m,b)<0&&(this[b]=c);return(d=a.extended)!=null&&d.apply(this),this},a.proxy=function(a){var b=this;return function(){return a.apply(b,arguments)}},a.prototype.proxy=function(a){var b=this;return function(){return a.apply(b,arguments)}},a}(),f=function(b){function c(a){c.__super__.constructor.apply(this,arguments),a&&this.load(a),this.cid=this.constructor.uid("c-")}return q(c,b),c.extend(d),c.records={},c.crecords={},c.attributes=[],c.configure=function(){var a,b;return b=arguments[0],a=2<=arguments.length?n.call(arguments,1):[],this.className=b,this.records={},this.crecords={},a.length&&(this.attributes=a),this.attributes&&(this.attributes=l(this.attributes)),this.attributes||(this.attributes=[]),this.unbind(),this},c.toString=function(){return""+this.className+"("+this.attributes.join(", ")+")"},c.find=function(a){var b;b=this.records[a];if(!b&&(""+a).match(/c-\d+/))return this.findCID(a);if(!b)throw new Error("Unknown record");return b.clone()},c.findCID=function(a){var b;b=this.crecords[a];if(!b)throw new Error("Unknown record");return b.clone()},c.exists=function(a){try{return this.find(a)}catch(b){return!1}},c.refresh=function(a,b){var c,d,e,f;b==null&&(b={}),b.clear&&(this.records={},this.crecords={}),d=this.fromJSON(a),j(d)||(d=[d]);for(e=0,f=d.length;e<f;e++)c=d[e],c.id||(c.id=c.cid),this.records[c.id]=c,this.crecords[c.cid]=c;return this.trigger("refresh",this.cloneArray(d)),this},c.select=function(a){var b,c,d;return d=function(){var d,e;d=this.records,e=[];for(b in d)c=d[b],a(c)&&e.push(c);return e}.call(this),this.cloneArray(d)},c.findByAttribute=function(a,b){var c,d,e;e=this.records;for(c in e){d=e[c];if(d[a]===b)return d.clone()}return null},c.findAllByAttribute=function(a,b){return this.select(function(c){return c[a]===b})},c.each=function(a){var b,c,d,e;d=this.records,e=[];for(b in d)c=d[b],e.push(a(c.clone()));return e},c.all=function(){return this.cloneArray(this.recordsValues())},c.first=function(){var a;return a=this.recordsValues()[0],a!=null?a.clone():void 0},c.last=function(){var a,b;return b=this.recordsValues(),a=b[b.length-1],a!=null?a.clone():void 0},c.count=function(){return this.recordsValues().length},c.deleteAll=function(){var a,b,c,d;c=this.records,d=[];for(a in c)b=c[a],d.push(delete this.records[a]);return d},c.destroyAll=function(){var a,b,c,d;c=this.records,d=[];for(a in c)b=c[a],d.push(this.records[a].destroy());return d},c.update=function(a,b,c){return this.find(a).updateAttributes(b,c)},c.create=function(a,b){var c;return c=new this(a),c.save(b)},c.destroy=function(a,b){return this.find(a).destroy(b)},c.change=function(a){return typeof a=="function"?this.bind("change",a):this.trigger("change",a)},c.fetch=function(a){return typeof a=="function"?this.bind("fetch",a):this.trigger("fetch",a)},c.toJSON=function(){return this.recordsValues()},c.fromJSON=function(a){var b,c,d,e;if(!a)return;typeof a=="string"&&(a=JSON.parse(a));if(j(a)){e=[];for(c=0,d=a.length;c<d;c++)b=a[c],e.push(new this(b));return e}return new this(a)},c.fromForm=function(){var a;return(a=new this).fromForm.apply(a,arguments)},c.recordsValues=function(){var a,b,c,d;b=[],d=this.records;for(a in d)c=d[a],b.push(c);return b},c.cloneArray=function(a){var b,c,d,e;e=[];for(c=0,d=a.length;c<d;c++)b=a[c],e.push(b.clone());return e},c.idCounter=0,c.uid=function(a){var b;return a==null&&(a=""),b=a+this.idCounter++,this.exists(b)&&(b=this.uid(a)),b},c.prototype.isNew=function(){return!this.exists()},c.prototype.isValid=function(){return!this.validate()},c.prototype.validate=function(){},c.prototype.load=function(a){var b,c;for(b in a)c=a[b],typeof this[b]=="function"?this[b](c):this[b]=c;return this},c.prototype.attributes=function(){var a,b,c,d,e;b={},e=this.constructor.attributes;for(c=0,d=e.length;c<d;c++)a=e[c],a in this&&(typeof this[a]=="function"?b[a]=this[a]():b[a]=this[a]);return this.id&&(b.id=this.id),b},c.prototype.eql=function(a){return!!(a&&a.constructor===this.constructor&&a.cid===this.cid||a.id&&a.id===this.id)},c.prototype.save=function(a){var b,c;a==null&&(a={});if(a.validate!==!1){b=this.validate();if(b)return this.trigger("error",b),!1}return this.trigger("beforeSave",a),c=this.isNew()?this.create(a):this.update(a),this.trigger("save",a),c},c.prototype.updateAttribute=function(a,b,c){return this[a]=b,this.save(c)},c.prototype.updateAttributes=function(a,b){return this.load(a),this.save(b)},c.prototype.changeID=function(a){var b;return b=this.constructor.records,b[a]=b[this.id],delete b[this.id],this.id=a,this.save()},c.prototype.destroy=function(a){return a==null&&(a={}),this.trigger("beforeDestroy",a),delete this.constructor.records[this.id],delete this.constructor.crecords[this.cid],this.destroyed=!0,this.trigger("destroy",a),this.trigger("change","destroy",a),this.unbind(),this},c.prototype.dup=function(a){var b;return b=new this.constructor(this.attributes()),a===!1?b.cid=this.cid:delete b.id,b},c.prototype.clone=function(){return i(this)},c.prototype.reload=function(){var a;return this.isNew()?this:(a=this.constructor.find(this.id),this.load(a.attributes()),a)},c.prototype.toJSON=function(){return this.attributes()},c.prototype.toString=function(){return"<"+this.constructor.className+" ("+JSON.stringify(this)+")>"},c.prototype.fromForm=function(b){var c,d,e,f,g;d={},g=a(b).serializeArray();for(e=0,f=g.length;e<f;e++)c=g[e],d[c.name]=c.value;return this.load(d)},c.prototype.exists=function(){return this.id&&this.id in this.constructor.records},c.prototype.update=function(a){var b,c;return this.trigger("beforeUpdate",a),c=this.constructor.records,c[this.id].load(this.attributes()),b=c[this.id].clone(),b.trigger("update",a),b.trigger("change","update",a),b},c.prototype.create=function(a){var b,c;return this.trigger("beforeCreate",a),this.id||(this.id=this.cid),c=this.dup(!1),this.constructor.records[this.id]=c,this.constructor.crecords[this.cid]=c,b=c.clone(),b.trigger("create",a),b.trigger("change","create",a),b},c.prototype.bind=function(a,b){var c,d,e=this;return this.constructor.bind(a,c=function(a){if(a&&e.eql(a))return b.apply(e,arguments)}),this.constructor.bind("unbind",d=function(b){if(b&&e.eql(b))return e.constructor.unbind(a,c),e.constructor.unbind("unbind",d)}),c},c.prototype.one=function(a,b){var c,d=this;return c=this.bind(a,function(){return d.constructor.unbind(a,c),b.apply(d,arguments)})},c.prototype.trigger=function(){var a,b;return a=1<=arguments.length?n.call(arguments,0):[],a.splice(1,0,this),(b=this.constructor).trigger.apply(b,a)},c.prototype.unbind=function(){return this.trigger("unbind")},c}(g),b=function(b){function c(b){this.release=r(this.release,this);var d,e,f;this.options=b,f=this.options;for(d in f)e=f[d],this[d]=e;this.el||(this.el=document.createElement(this.tag)),this.el=a(this.el),this.$el=this.el,this.className&&this.el.addClass(this.className),this.attributes&&this.el.attr(this.attributes),this.events||(this.events=this.constructor.events),this.elements||(this.elements=this.constructor.elements),this.events&&this.delegateEvents(this.events),this.elements&&this.refreshElements(),c.__super__.constructor.apply(this,arguments)}return q(c,b),c.include(d),c.include(e),c.prototype.eventSplitter=/^(\S+)\s*(.*)$/,c.prototype.tag="div",c.prototype.release=function(){return this.trigger("release"),this.el.remove(),this.unbind()},c.prototype.$=function(b){return a(b,this.el)},c.prototype.delegateEvents=function(a){var b,c,d,e,f,g,h=this;g=[];for(c in a){e=a[c];if(typeof e=="function")e=function(a){return function(){return a.apply(h,arguments),!0}}(e);else{if(!this[e])throw new Error(""+e+" doesn't exist");e=function(a){return function(){return h[a].apply(h,arguments),!0}}(e)}d=c.match(this.eventSplitter),b=d[1],f=d[2],f===""?g.push(this.el.bind(b,e)):g.push(this.el.delegate(f,b,e))}return g},c.prototype.refreshElements=function(){var a,b,c,d;c=this.elements,d=[];for(a in c)b=c[a],d.push(this[b]=this.$(a));return d},c.prototype.delay=function(a,b){return setTimeout(this.proxy(a),b||0)},c.prototype.html=function(a){return this.el.html(a.el||a),this.refreshElements(),this.el},c.prototype.append=function(){var a,b,c;return b=1<=arguments.length?n.call(arguments,0):[],b=function(){var c,d,e;e=[];for(c=0,d=b.length;c<d;c++)a=b[c],e.push(a.el||a);return e}(),(c=this.el).append.apply(c,b),this.refreshElements(),this.el},c.prototype.appendTo=function(a){return this.el.appendTo(a.el||a),this.refreshElements(),this.el},c.prototype.prepend=function(){var a,b,c;return b=1<=arguments.length?n.call(arguments,0):[],b=function(){var c,d,e;e=[];for(c=0,d=b.length;c<d;c++)a=b[c],e.push(a.el||a);return e}(),(c=this.el).prepend.apply(c,b),this.refreshElements(),this.el},c.prototype.replace=function(b){var c,d;return d=[this.el,a(b.el||b)],c=d[0],this.el=d[1],c.replaceWith(this.el),this.delegateEvents(this.events),this.refreshElements(),this.el},c}(g),a=(typeof window!="undefined"&&window!==null?window.jQuery:void 0)||(typeof window!="undefined"&&window!==null?window.Zepto:void 0)||function(a){return a},i=Object.create||function(a){var b;return b=function(){},b.prototype=a,new b},j=function(a){return Object.prototype.toString.call(a)==="[object Array]"},k=function(a){var b;if(!a)return!0;for(b in a)return!1;return!0},l=function(a){return Array.prototype.slice.call(a,0)},h=this.Spine={},typeof c!="undefined"&&c!==null&&(c.exports=h),h.version="1.0.8",h.isArray=j,h.isBlank=k,h.$=a,h.Events=d,h.Log=e,h.Module=g,h.Controller=b,h.Model=f,g.extend.call(h,d),g.create=g.sub=b.create=b.sub=f.sub=function(a,b){var c;return c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return q(b,a),b}(this),a&&c.include(a),b&&c.extend(b),typeof c.unbind=="function"&&c.unbind(),c},f.setup=function(a,b){var c;return b==null&&(b=[]),c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return q(b,a),b}(this),c.configure.apply(c,[a].concat(n.call(b))),c},h.Class=g})).call(this)},"spine/lib/local":function(a,b,c){((function(){var a;a=this.Spine||b("spine"),a.Model.Local={extended:function(){return this.change(this.saveLocal),this.fetch(this.loadLocal)},saveLocal:function(){var a;return a=JSON.stringify(this),localStorage[this.className]=a},loadLocal:function(){var a;return a=localStorage[this.className],this.refresh(a||[],{clear:!0})}},typeof c!="undefined"&&c!==null&&(c.exports=a.Model.Local)})).call(this)},"spine/lib/ajax":function(a,b,c){((function(){var a,d,e,f,g,h,i,j,k,l=function(a,b){return function(){return a.apply(b,arguments)}},m={}.hasOwnProperty,n=function(a,b){function d(){this.constructor=a}for(var c in b)m.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},o=[].slice;k=this.Spine||b("spine"),a=k.$,i=k.Model,d={getURL:function(a){return a&&(typeof a.url=="function"?a.url():void 0)||a.url},enabled:!0,pending:!1,requests:[],disable:function(a){if(!this.enabled)return a();this.enabled=!1;try{return a()}catch(b){throw b}finally{this.enabled=!0}},requestNext:function(){var a;return a=this.requests.shift(),a?this.request(a):this.pending=!1},request:function(a){var b=this;return a().complete(function(){return b.requestNext()})},queue:function(a){if(!this.enabled)return;return this.pending?this.requests.push(a):(this.pending=!0,this.request(a)),a}},e=function(){function b(){}return b.prototype.defaults={contentType:"application/json",dataType:"json",processData:!1,headers:{"X-Requested-With":"XMLHttpRequest"}},b.prototype.ajax=function(b,c){return a.ajax(a.extend({},this.defaults,c,b))},b.prototype.queue=function(a){return d.queue(a)},b}(),f=function(a){function b(a){this.model=a,this.errorResponse=l(this.errorResponse,this),this.recordsResponse=l(this.recordsResponse,this)}return n(b,a),b.prototype.find=function(a,b){var c;return c=new this.model({id:a}),this.ajax(b,{type:"GET",url:d.getURL(c)}).success(this.recordsResponse).error(this.errorResponse)},b.prototype.all=function(a){return this.ajax(a,{type:"GET",url:d.getURL(this.model)}).success(this.recordsResponse).error(this.errorResponse)},b.prototype.fetch=function(a,b){var c,d=this;return a==null&&(a={}),b==null&&(b={}),(c=a.id)?(delete a.id,this.find(c,a).success(function(a){return d.model.refresh(a,b)})):this.all(a).success(function(a){return d.model.refresh(a,b)})},b.prototype.recordsResponse=function(a,b,c){return this.model.trigger("ajaxSuccess",null,b,c)},b.prototype.errorResponse=function(a,b,c){return this.model.trigger("ajaxError",null,a,b,c)},b}(e),j=function(a){function b(a){this.record=a,this.errorResponse=l(this.errorResponse,this),this.recordResponse=l(this.recordResponse,this),this.model=this.record.constructor}return n(b,a),b.prototype.reload=function(a,b){var c=this;return this.queue(function(){return c.ajax(a,{type:"GET",url:d.getURL(c.record)}).success(c.recordResponse(b)).error(c.errorResponse(b))})},b.prototype.create=function(a,b){var c=this;return this.queue(function(){return c.ajax(a,{type:"POST",data:JSON.stringify(c.record),url:d.getURL(c.model)}).success(c.recordResponse(b)).error(c.errorResponse(b))})},b.prototype.update=function(a,b){var c=this;return this.queue(function(){return c.ajax(a,{type:"PUT",data:JSON.stringify(c.record),url:d.getURL(c.record)}).success(c.recordResponse(b)).error(c.errorResponse(b))})},b.prototype.destroy=function(a,b){var c=this;return this.queue(function(){return c.ajax(a,{type:"DELETE",url:d.getURL(c.record)}).success(c.recordResponse(b)).error(c.errorResponse(b))})},b.prototype.recordResponse=function(a){var b=this;return a==null&&(a={}),function(c,e,f){var g;return k.isBlank(c)?c=!1:c=b.model.fromJSON(c),d.disable(function(){if(c)return c.id&&b.record.id!==c.id&&b.record.changeID(c.id),b.record.updateAttributes(c.attributes())}),b.record.trigger("ajaxSuccess",c,e,f),(g=a.success)!=null?g.apply(b.record):void 0}},b.prototype.errorResponse=function(a){var b=this;return a==null&&(a={}),function(c,d,e){var f;return b.record.trigger("ajaxError",c,d,e),(f=a.error)!=null?f.apply(b.record):void 0}},b}(e),i.host="",h={ajax:function(){return new j(this)},url:function(){var a,b;return a=1<=arguments.length?o.call(arguments,0):[],b=d.getURL(this.constructor),b.charAt(b.length-1)!=="/"&&(b+="/"),b+=encodeURIComponent(this.id),a.unshift(b),a.join("/")}},g={ajax:function(){return new f(this)},url:function(){var a;return a=1<=arguments.length?o.call(arguments,0):[],a.unshift(this.className.toLowerCase()+"s"),a.unshift(i.host),a.join("/")}},i.Ajax={extended:function(){return this.fetch(this.ajaxFetch),this.change(this.ajaxChange),this.extend(g),this.include(h)},ajaxFetch:function(){var a;return(a=this.ajax()).fetch.apply(a,arguments)},ajaxChange:function(a,b,c){c==null&&(c={});if(c.ajax===!1)return;return a.ajax()[b](c.ajax,c)}},i.Ajax.Methods={extended:function(){return this.extend(g),this.include(h)}},d.defaults=e.prototype.defaults,k.Ajax=d,typeof c!="undefined"&&c!==null&&(c.exports=d)})).call(this)},"spine/lib/route":function(a,b,c){((function(){var a,d,e,f,g,h,i={}.hasOwnProperty,j=function(a,b){function d(){this.constructor=a}for(var c in b)i.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},k=[].slice;d=this.Spine||b("spine"),a=d.$,f=/^#*/,g=/:([\w\d]+)/g,h=/\*([\w\d]+)/g,e=/[-[\]{}()+?.,\\^$|#\s]/g,d.Route=function(b){function i(a,b){var c;this.path=a,this.callback=b,this.names=[];if(typeof a=="string"){g.lastIndex=0;while((c=g.exec(a))!==null)this.names.push(c[1]);h.lastIndex=0;while((c=h.exec(a))!==null)this.names.push(c[1]);a=a.replace(e,"\\$&").replace(g,"([^/]*)").replace(h,"(.*?)"),this.route=new RegExp("^"+a+"$")}else this.route=a}var c;return j(i,b),i.extend(d.Events),i.historySupport=((c=window.history)!=null?c.pushState:void 0)!=null,i.routes=[],i.options={trigger:!0,history:!1,shim:!1},i.add=function(a,b){var c,d,e;if(typeof a!="object"||a instanceof RegExp)return this.routes.push(new this(a,b));e=[];for(c in a)d=a[c],e.push(this.add(c,d));return e},i.setup=function(b){b==null&&(b={}),this.options=a.extend({},this.options,b),this.options.history&&(this.history=this.historySupport&&this.options.history);if(this.options.shim)return;return this.history?a(window).bind("popstate",this.change):a(window).bind("hashchange",this.change),this.change()},i.unbind=function(){return this.history?a(window).unbind("popstate",this.change):a(window).unbind("hashchange",this.change)},i.navigate=function(){var b,c,d,e;b=1<=arguments.length?k.call(arguments,0):[],d={},c=b[b.length-1],typeof c=="object"?d=b.pop():typeof c=="boolean"&&(d.trigger=b.pop()),d=a.extend({},this.options,d),e=b.join("/");if(this.path===e)return;this.path=e,this.trigger("navigate",this.path),d.trigger&&this.matchRoute(this.path,d);if(d.shim)return;return this.history?history.pushState({},document.title,this.path):window.location.hash=this.path},i.getPath=function(){var a;return a=window.location.pathname,a.substr(0,1)!=="/"&&(a="/"+a),a},i.getHash=function(){return window.location.hash},i.getFragment=function(){return this.getHash().replace(f,"")},i.getHost=function(){return(document.location+"").replace(this.getPath()+this.getHash(),"")},i.change=function(){var a;a=this.getFragment()!==""?this.getFragment():this.getPath();if(a===this.path)return;return this.path=a,this.matchRoute(this.path)},i.matchRoute=function(a,b){var c,d,e,f;f=this.routes;for(d=0,e=f.length;d<e;d++){c=f[d];if(c.match(a,b))return this.trigger("change",c,a),c}},i.prototype.match=function(a,b){var c,d,e,f,g,h;b==null&&(b={}),d=this.route.exec(a);if(!d)return!1;b.match=d,f=d.slice(1);if(this.names.length)for(c=g=0,h=f.length;g<h;c=++g)e=f[c],b[this.names[c]]=e;return this.callback.call(null,b)!==!1},i}(d.Module),d.Route.change=d.Route.proxy(d.Route.change),d.Controller.include({route:function(a,b){return d.Route.add(a,this.proxy(b))},routes:function(a){var b,c,d;d=[];for(b in a)c=a[b],d.push(this.route(b,c));return d},navigate:function(){return d.Route.navigate.apply(d.Route,arguments)}}),typeof c!="undefined"&&c!==null&&(c.exports=d.Route)})).call(this)},"spine/lib/manager":function(a,b,c){((function(){var a,d,e={}.hasOwnProperty,f=function(a,b){function d(){this.constructor=a}for(var c in b)e.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},g=[].slice;d=this.Spine||b("spine"),a=d.$,d.Manager=function(a){function b(){this.controllers=[],this.bind("change",this.change),this.add.apply(this,arguments)}return f(b,a),b.include(d.Events),b.prototype.add=function(){var a,b,c,d,e;b=1<=arguments.length?g.call(arguments,0):[],e=[];for(c=0,d=b.length;c<d;c++)a=b[c],e.push(this.addOne(a));return e},b.prototype.addOne=function(a){var b=this;return a.bind("active",function(){var c;return c=1<=arguments.length?g.call(arguments,0):[],b.trigger.apply(b,["change",a].concat(g.call(c)))}),a.bind("release",function(){return b.controllers.splice(b.controllers.indexOf(a),1)}),this.controllers.push(a)},b.prototype.deactivate=function(){return this.trigger.apply(this,["change",!1].concat(g.call(arguments)))},b.prototype.change=function(){var a,b,c,d,e,f,h;c=arguments[0],a=2<=arguments.length?g.call(arguments,1):[],f=this.controllers,h=[];for(d=0,e=f.length;d<e;d++)b=f[d],b===c?h.push(b.activate.apply(b,a)):h.push(b.deactivate.apply(b,a));return h},b}(d.Module),d.Controller.include({active:function(){var a;return a=1<=arguments.length?g.call(arguments,0):[],typeof a[0]=="function"?this.bind("active",a[0]):(a.unshift("active"),this.trigger.apply(this,a)),this},isActive:function(){return this.el.hasClass("active")},activate:function(){return this.el.addClass("active"),this},deactivate:function(){return this.el.removeClass("active"),this}}),d.Stack=function(a){function b(){var a,c,e,f,g,h=this;b.__super__.constructor.apply(this,arguments),this.manager=new d.Manager,f=this.controllers;for(a in f)c=f[a],this[a]=new c({stack:this}),this.add(this[a]);g=this.routes,e=function(a,b){var c;return typeof b=="function"&&(c=b),c||(c=function(){var a;return(a=h[b]).active.apply(a,arguments)}),h.route(a,c)};for(a in g)c=g[a],e(a,c);this["default"]&&this[this["default"]].active()}return f(b,a),b.prototype.controllers={},b.prototype.routes={},b.prototype.className="spine stack",b.prototype.add=function(a){return this.manager.add(a),this.append(a)},b}(d.Controller),typeof c!="undefined"&&c!==null&&(c.exports=d.Manager),typeof c!="undefined"&&c!==null&&(c.exports.Stack=d.Stack)})).call(this)},"spine/lib/relation":function(exports,require,module){((function(){var Collection,Instance,Singleton,Spine,isArray,require,singularize,underscore,__hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};Spine=this.Spine||require("spine"),isArray=Spine.isArray,require=this.require||function(value){return eval(value)},Collection=function(a){function b(a){var b,c;a==null&&(a={});for(b in a)c=a[b],this[b]=c}return __extends(b,a),b.prototype.all=function(){var a=this;return this.model.select(function(b){return a.associated(b)})},b.prototype.first=function(){return this.all()[0]},b.prototype.last=function(){var a;return a=this.all(),a[a.length-1]},b.prototype.find=function(a){var b,c=this;b=this.select(function(b){return b.id+""==a+""});if(!b[0])throw"Unknown record";return b[0]},b.prototype.findAllByAttribute=function(a,b){var c=this;return this.model.select(function(d){return c.associated(d)&&d[a]===b})},b.prototype.findByAttribute=function(a,b){return this.findAllByAttribute(a,b)[0]},b.prototype.select=function(a){var b=this;return this.model.select(function(c){return b.associated(c)&&a(c)})},b.prototype.refresh=function(a){var b,c,d,e,f,g,h;h=this.all();for(d=0,f=h.length;d<f;d++)b=h[d],delete this.model.records[b.id];c=this.model.fromJSON(a),isArray(c)||(c=[c]);for(e=0,g=c.length;e<g;e++)b=c[e],b.newRecord=!1,b[this.fkey]=this.record.id,this.model.records[b.id]=b;return this.model.trigger("refresh",this.model.cloneArray(c))},b.prototype.create=function(a){return a[this.fkey]=this.record.id,this.model.create(a)},b.prototype.associated=function(a){return a[this.fkey]===this.record.id},b}(Spine.Module),Instance=function(a){function b(a){var b,c;a==null&&(a={});for(b in a)c=a[b],this[b]=c}return __extends(b,a),b.prototype.exists=function(){return this.record[this.fkey]&&this.model.exists(this.record[this.fkey])},b.prototype.update=function(a){return a instanceof this.model||(a=new this.model(a)),a.isNew()&&a.save(),this.record[this.fkey]=a&&a.id},b}(Spine.Module),Singleton=function(a){function b(a){var b,c;a==null&&(a={});for(b in a)c=a[b],this[b]=c}return __extends(b,a),b.prototype.find=function(){return this.record.id&&this.model.findByAttribute(this.fkey,this.record.id)},b.prototype.update=function(a){return a instanceof this.model||(a=this.model.fromJSON(a)),a[this.fkey]=this.record.id,a.save()},b}(Spine.Module),singularize=function(a){return a.replace(/s$/,"")},underscore=function(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/-/g,"_").toLowerCase()},Spine.Model.extend({hasMany:function(a,b,c){var d;return c==null&&(c=""+underscore(this.className)+"_id"),d=function(d){return typeof b=="string"&&(b=require(b)),new Collection({name:a,model:b,record:d,fkey:c})},this.prototype[a]=function(a){return a!=null&&d(this).refresh(a),d(this)}},belongsTo:function(a,b,c){var d;return c==null&&(c=""+singularize(a)+"_id"),d=function(d){return typeof b=="string"&&(b=require(b)),new Instance({name:a,model:b,record:d,fkey:c})},this.prototype[a]=function(a){return a!=null&&d(this).update(a),d(this).exists()},this.attributes.push(c)},hasOne:function(a,b,c){var d;return c==null&&(c=""+underscore(this.className)+"_id"),d=function(d){return typeof b=="string"&&(b=require(b)),new Singleton({name:a,model:b,record:d,fkey:c})},this.prototype[a]=function(a){return a!=null&&d(this).update(a),d(this).find()}}})})).call(this)},"controllers/AboutController":function(a,b,c){((function(){var a,d,e=function(a,b){return function(){return a.apply(b,arguments)}},f={}.hasOwnProperty,g=function(a,b){function d(){this.constructor=a}for(var c in b)f.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};d=b("spine"),a=function(a){function c(){this.selectNav=e(this.selectNav,this),this.active=e(this.active,this),this.renderSeciton=e(this.renderSeciton,this),this.render=e(this.render,this),c.__super__.constructor.apply(this,arguments),this.render()}return g(c,a),c.prototype.className="AboutController",c.prototype.elements={".about_content":"content",".list-links li a":"navLinks"},c.prototype.render=function(){return this.html(b("views/about/outer")),this.renderSeciton("project")},c.prototype.renderSeciton=function(a){return a==null&&(a="project"),this.content.html(b("views/about/"+a))},c.prototype.active=function(a){return c.__super__.active.apply(this,arguments),this.renderSeciton(a.section),this.selectNav(a.section)},c.prototype.selectNav=function(a){return a==null&&(a="project"),this.navLinks.removeClass("selected"),console.log("selecting ."+a),$("."+a).addClass("selected")},c}(d.Controller),c.exports=a})).call(this)},"controllers/ArchivesIndexController":function(a,b,c){((function(){var a,d,e,f=function(a,b){return function(){return a.apply(b,arguments)}},g={}.hasOwnProperty,h=function(a,b){function d(){this.constructor=a}for(var c in b)g.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};e=b("spine"),a=b("models/Archive"),d=function(c){function d(){this.toggleComplete=f(this.toggleComplete,this),this.toggleUserArchives=f(this.toggleUserArchives,this),this.render=f(this.render,this),this.hideListDetails=f(this.hideListDetails,this),this.showArchiveDetails=f(this.showArchiveDetails,this),this.active=f(this.active,this),d.__super__.constructor.apply(this,arguments),a.bind("refresh",this.render),this.showCompleted=!0}return h(d,c),d.prototype.className="ArchivesIndexController",d.prototype.events={"click .switch a":"toggleUserArchives","mouseenter .archive-list li":"showArchiveDetails","mouseleave .archive-list li":"hideListDetails","click span.switch":"toggleComplete"},d.prototype.elements={".switch":"toggleSwitch",".archive-list li.completed:not(.mine)":"userArchives",".archive-list li.completed.mine":"nonUserArchives"},d.prototype.active=function(a){return d.__super__.active.apply(this,arguments),this.render(a)},d.prototype.showArchiveDetails=function(a){return $(a.currentTarget).find(".translucent-box").stop().animate({top:0},{duration:200})},d.prototype.hideListDetails=function(a){return $(a.currentTarget).find(".translucent-box").stop().animate({top:"160px"},{duration:200})},d.prototype.render=function(c){var d;return c==null&&(c=void 0),d=a.filter(c),this.html(""),this.append(b("views/archives/topBar")({archives:d,options:c})),this.append(b("views/archives/archiveList")({archives:d,archiveTemplate:b("views/archives/archive")}))},d.prototype.toggleUserArchives=function(a){var b,c=this;return a.preventDefault(),b=$(a.currentTarget),$(".bkg").animate({left:b.position().left},100,function(){return c.toggleSwitch.find("a").removeClass("selected"),b.addClass("selected"),b.position().left!==0?c.showCompleted?$(".collection-list li.completed:not(.mine)").animate({opacity:.2},{duration:100}):$(".collection-list li:not(.mine)").animate({opacity:.2},{duration:100}):c.showCompleted?$(".collection-list li.completed:not(.mine)").animate({opacity:.2},{duration:100}):$(".collection-list li:not(.mine)").animate({opacity:.2},{duration:100})})},d.prototype.toggleComplete=function(a){var b;return a.preventDefault(),b=$(a.currentTarget),b.hasClass("selected")?(b.html(b.attr("data-selected")),$(".archive-list li.completed").animate({opacity:1},{duration:300}),this.showCompleted=!0):(this.showCompleted=!1,b.html(b.attr("data-show")),$(".archive-list li.completed").animate({opacity:.2},{duration:300})),b.toggleClass("selected")},d}(e.Controller),c.exports=d})).call(this)},"controllers/ArchivesShowController":function(a,b,c){((function(){var a,d,e,f=function(a,b){return function(){return a.apply(b,arguments)}},g={}.hasOwnProperty,h=function(a,b){function d(){this.constructor=a}for(var c in b)g.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};e=b("spine"),a=b("models/Archive"),d=function(c){function d(){this.render=f(this.render,this),this.active=f(this.active,this),d.__super__.constructor.apply(this,arguments)}return h(d,c),d.prototype.className="ArchivesShowController",d.prototype.active=function(b){var c;return d.__super__.active.apply(this,arguments),c=a.findBySlug(b.id),this.render(c)},d.prototype.render=function(a){return a==null&&(a=void 0),console.log("archive is ",a),a!=null?this.html(b("/views/archives/archiveShow")({archive:a})):this.html(b("/views/archives/archiveNotFound")())},d}(e.Controller),c.exports=d})).call(this)},"controllers/DoubleTranscriptionController":function(a,b,c){((function(){var a,d,e,f,g=function(a,b){return function(){return a.apply(b,arguments)}},h={}.hasOwnProperty,i=function(a,b){function d(){this.constructor=a}for(var c in b)h.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};e=b("spine"),f=b("models/Subject"),d=b("models/EOL"),a=function(a){function c(){this.finishRecord=g(this.finishRecord,this),this.setUpEntity=g(this.setUpEntity,this),this.nextEntity=g(this.nextEntity,this),this.autofillSpecies=g(this.autofillSpecies,this),this.goToEntity=g(this.goToEntity,this),this.showSteps=g(this.showSteps,this),this.hideSkipConfimation=g(this.hideSkipConfimation,this),this.showSkipConfimation=g(this.showSkipConfimation,this),this.hideDone=g(this.hideDone,this),this.checkDone=g(this.checkDone,this),this.grabData=g(this.grabData,this),this.fetchSpeciesInfo=g(this.fetchSpeciesInfo,this),this.render=g(this.render,this),this.startWorkflow=g(this.startWorkflow,this),c.__super__.constructor.apply(this,arguments),this.eol=new d}return i(c,a),c.prototype.className="DoubleTranscriptionController",c.prototype.elements={"div.transcribing":"transcriptionSubject","#transcriber":"transcriptionBox","ul.steps":"steps","div.tooltip.skip":"skipConfirmation","div.tooltip.right":"finishRecordCheck",".transcribing img":"transcriptionImage"},c.prototype.startWorkflow=function(a){return this.currentSubject=a,this.render()},c.prototype.render=function(){var a=this;return this.html(""),this.append(b("views/transcription/main")({subject:this.currentSubject})),this.delay(function(){return a.transcriptionSubject.transcriber(),$("input[name='species']").on("keyup",a.autofillSpecies)},200)},c.prototype.fetchSpeciesInfo=function(a){var c=this;return console.log("searching for ",a),this.eol.search(a,function(a){return console.log(a),c.eol.getMediaForSpecies(a[0],["text","videos","images","sound"],function(d){return alert(c.transcriptionBox),c.transcriptionBox.append(b("views/transcription/speciesInfo")({species:a[0],media:d}))})})},c.prototype.grabData=function(a){var b,c,d,e,f;c={},f=a.serializeArray();for(d=0,e=f.length;d<e;d++)b=f[d],c[b.name]=b.value;return c},c.prototype.checkDone=function(a){return a.preventDefault(),this.finishRecordCheck.show()},c.prototype.hideDone=function(a){return a.preventDefault(),this.finishRecordCheck.hide()},c.prototype.showSkipConfimation=function(a){return a.preventDefault(),this.skipConfirmation.css({left:"0px"}),this.skipConfirmation.show()},c.prototype.hideSkipConfimation=function(a){return a.preventDefault(),this.skipConfirmation.hide()},c.prototype.showSteps=function(a){return a.preventDefault(),this.steps.toggle()},c.prototype.goToEntity=function(a){return a!=null&&a.preventDefault(),this.currentEntityNo=$(a.currentTarget).data().stepNo,this.setUpEntity()},c.prototype.autofillSpecies=function(a){var b,c=this;return b=$(a.currentTarget).val(),this.eol.search(b,function(a){return console.log(a)})},c.prototype.nextEntity=function(){return this.currentEntityNo+=1,this.setUpEntity()},c.prototype.setUpEntity=function(){return this.currentEntityNo===entities.length&&this.finishRecord(),entities[this.currentEntityNo].draggable?this.transcriptionBox.draggable("enable"):this.transcriptionBox.draggable("disable"),this.transcriptionBox.html(b("views/transcription/transcriptionBox")({entityTemplate:b("views/transcription/entity"),currentEntityNo:this.currentEntityNo,noOfEntities:entities.length,currentEntity:entities[this.currentEntityNo],entities:entities})),this.refreshElements()},c.prototype.finishRecord=function(a){var c=this;return a!=null&&a.preventDefault(),this.transcriptionSubject.append(b("views/transcription/marker")({annotation:this.currentAnnotation})),this.annotations.push(this.currentAnnotation),this.currentAnnotation=[],this.currentEntityNo=0,this.transcriptionBox.animate({top:"+=200"},200,function(){return c.setUpEntity()})},c}(e.Controller),c.exports=a})).call(this)},"controllers/HeaderController":function(a,b,c){((function(){var a,d,e,f=function(a,b){return function(){return a.apply(b,arguments)}},g={}.hasOwnProperty,h=function(a,b){function d(){this.constructor=a}for(var c in b)g.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};d=b("spine"),e=b("models/User"),a=function(a){function c(){this.render=f(this.render,this),this.nextSubject=f(this.nextSubject,this),this.home=f(this.home,this);var a=this;c.__super__.constructor.apply(this,arguments),this.render(),e.bind("create",function(){return a.render()}),d.Route.bind("change",function(){return a.render()}),$("body").bind("doneClassification",function(b){var c;return c=a.recordCount.html()*1+1,a.recordCount.html(c)})}return h(c,a),c.prototype.events={"click .title":"home","click .nextSubject":"nextSubject"},c.prototype.elements={".noOfRecordsDone":"recordCount"},c.prototype.home=function(){return d.Route.navigate("/")},c.prototype.nextSubject=function(a){return a.preventDefault(),window.location.reload(),d.trigger("nextSubject")},c.prototype.render=function(){return d.Route.path!=null&&d.Route.path.indexOf("transcribe")!==-1?(this.html(b("views/transcription/header")),this.el.css("padding-top","25px")):d.Route.path==="/"?this.html(b("views/home/header")({user:e.first()})):this.html(b("views/header")({user:e.first()}))},c}(d.Controller),c.exports=a})).call(this)},"controllers/HomeController":function(a,b,c){((function(){var a,d,e,f,g=function(a,b){return function(){return a.apply(b,arguments)}},h={}.hasOwnProperty,i=function(a,b){function d(){this.constructor=a}for(var c in b)h.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};f=b("spine"),a=b("models/Archive"),e=b("models/Institute"),d=function(c){function d(){this.render=g(this.render,this);var b=this;d.__super__.constructor.apply(this,arguments),this.render(),a.bind("refresh",function(){return b.render()})}return i(d,c),d.prototype.className="HomeController",d.prototype.render=function(){var c;return c=e.allStats(),this.html(b("views/home/splash")()),this.append(b("views/home/stats")({archiveCount:a.count(),subjects:c.total,progress:c.complete/c.total})),this.append(b("views/home/content")())},d}(f.Controller),c.exports=d})).call(this)},"controllers/InstituteShowController":function(a,b,c){((function(){var a,d,e,f=function(a,b){return function(){return a.apply(b,arguments)}},g={}.hasOwnProperty,h=function(a,b){function d(){this.constructor=a}for(var c in b)g.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};e=b("spine"),a=b("models/Institute"),d=function(c){function d(){this.render=f(this.render,this),this.active=f(this.active,this),d.__super__.constructor.apply(this,arguments)}return h(d,c),d.prototype.className="InstituteShowController",d.prototype.active=function(b){var c;return d.__super__.active.apply(this,arguments),c=a.findBySlug(b.id)[0],this.render(c)},d.prototype.render=function(a){return a==null&&(a=void 0),a!=null?this.html(b("views/institutes/instituteShow")({institute:a,archiveTemplate:b("views/institutes/archiveDetails")})):this.html(b("views/institutes/instituteNotFound")())},d}(e.Controller),c.exports=d})).call(this)},"controllers/LoginController":function(a,b,c){((function(){var a,d,e,f=function(a,b){return function(){return a.apply(b,arguments)}},g={}.hasOwnProperty,h=function(a,b){function d(){this.constructor=a}for(var c in b)g.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};d=b("spine"),e=b("models/User"),a=function(a){function c(){this.setUser=f(this.setUser,this),this.login=f(this.login,this);var a=this;c.__super__.constructor.apply(this,arguments),this.host="http://zooniverse-login.s3.amazonaws.com/stuartlynn_notes_from_nature_development.html",this.render(),this.delay(function(){return zooApi.checkCurrent({project:"notes_from_nature"},function(b){if(b.success)return d.trigger("userLoggedIn"),a.setUser(b)})},300)}return h(c,a),c.prototype.elements={form:"form",".username":"username",".password":"password"},c.prototype.events={"submit form":"login"},c.prototype.className="LoginController",c.prototype.active=function(){c.__super__.active.apply(this,arguments);if(e.first())return d.Route.navigate("/profile")},c.prototype.render=function(){return this.append(b("views/login/login"))},c.prototype.login=function(a){var b,c=this;return a.preventDefault(),b=this.form.serializeArray(),zooApi.logIn({project:"notes_from_nature",username:b[0].value,password:b[1].value},function(a){if(a.success)return c.setUser(a),d.Route.navigate("/")})},c.prototype.setUser=function(a){return $(".zooniverse-sign-in").remove(),$(".zooniverse-signin").html(a.name),e.create({id:a.zooniverse_id,name:a.name,key:a.api_key})},c}(d.Controller),c.exports=a})).call(this)},"controllers/ProfileController":function(a,b,c){((function(){var a,d,e,f=function(a,b){return function(){return a.apply(b,arguments)}},g={}.hasOwnProperty,h=function(a,b){function d(){this.constructor=a}for(var c in b)g.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};d=b("spine"),e=b("models/User"),a=function(a){function c(){this.render=f(this.render,this),c.__super__.constructor.apply(this,arguments)}return h(c,a),c.prototype.className="ProfileController",c.prototype.active=function(){return c.__super__.active.apply(this,arguments),e.count()===0?d.Route.navigate("/"):this.render()},c.prototype.render=function(){return this.html(b("views/profile/profile")({user:e.first()}))},c}(d.Controller),c.exports=a})).call(this)},"controllers/SernacTranscriptionController":function(a,b,c){((function(){var a,d,e,f,g=function(a,b){return function(){return a.apply(b,arguments)}},h={}.hasOwnProperty,i=function(a,b){function d(){this.constructor=a}for(var c in b)h.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};e=b("spine"),f=b("models/Subject"),a=b("models/EOL"),d=function(a){function c(){return this.render=g(this.render,this),this.startWorkflow=g(this.startWorkflow,this),c.__super__.constructor.apply(this,arguments)}return i(c,a),c.prototype.className="SernacTranscriptionController",c.prototype.startWorkflow=function(a){var b=this;return this.currentSubject=a,this.render(),this.delay(function(){return console.log($("div.transcribing")),$("div.transcribing").transcriberSernac()},300)},c.prototype.render=function(){return this.html(b("views/transcription/sernac")({subject:this.currentSubject}))},c}(e.Controller),c.exports=d})).call(this)},"controllers/TranscriptionController":function(a,b,c){((function(){var a,d,e,f,g,h,i,j=function(a,b){return function(){return a.apply(b,arguments)}},k={}.hasOwnProperty,l=function(a,b){function d(){this.constructor=a}for(var c in b)k.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};g=b("spine"),h=b("models/Subject"),a=b("models/Archive"),e=b("models/EOL"),f=b("controllers/SernacTranscriptionController"),d=b("controllers/DoubleTranscriptionController"),i=function(c){function e(){this.active=j(this.active,this),this.nextSubject=j(this.nextSubject,this),this.render=j(this.render,this),this.saveTranscription=j(this.saveTranscription,this),this.saveAnnotation=j(this.saveAnnotation,this);var a=this;e.__super__.constructor.apply(this,arguments),$("body").bind("doneClassification",function(b){return a.saveAnnotation(b.values)}),$("body.transcribingScreen .wrapper .right .button").on("click",function(){return alert("HERE")}),g.bind("nextSubject",this.nextSubject)}return l(e,c),e.prototype.className="TranscriptionController",e.prototype.transcriptionControllers={"double":new d,sernac:new f},e.prototype.saveAnnotation=function(a){return this.annotations||(this.annotations=[]),this.annotations.push(a)},e.prototype.saveTranscription=function(a){var b=this;return zooApi.saveClassification({project:"notes_from_nature",subjects:[this.currnetSubject.id],workflow:this.currnetSubject.workflow_ids[0],annotations:this.annotations},function(a){return console.log("save result")})},e.prototype.render=function(){var a;return this.currnetSubject?(a=this.currnetSubject.metadata.workflow_type,this.transcriptionControllers[a].startWorkflow(this.currnetSubject),this.html(this.transcriptionControllers[a].el),$("body").addClass(a),$("body").addClass("transcribingScreen")):this.html(b("views/transcription/outOfSubjects"))},e.prototype.nextSubject=function(){var b,c=this;if(this.currnetSubject!=null)return console.log(this.currnetSubject),b=a.find(this.currnetSubject.archive_id),this.archive.nextSubject(function(a){return $("div.transcribing.sernac img").attr("src",a.location.standard)})},e.prototype.active=function(b){var c=this;e.__super__.active.apply(this,arguments),a.count()===0&&a.bind("refresh",function(){return c.active(b)});if(b.id)return this.currnetSubject=h.find(b.id),this.render();if(b.archiveID){this.archive=a.findBySlug(b.archiveID);if(this.archive)return this.archive.nextSubject(function(a){return c.currnetSubject=a,c.render()})}else if(this.currnetSubject==null)return this.currnetSubject=h.random(),this.render()},e}(g.Controller),c.exports=i})).call(this)},index:function(a,b,c){((function(){var a,d,e,f,g,h,i,j,k,l,m,n,o={}.hasOwnProperty,p=function(a,b){function d(){this.constructor=a}for(var c in b)o.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};b("lib/setup"),m=b("spine"),h=b("controllers/HomeController"),f=b("controllers/ArchivesIndexController"),g=b("controllers/ArchivesShowController"),n=b("controllers/TranscriptionController"),j=b("controllers/InstituteShowController"),k=b("controllers/LoginController"),l=b("controllers/ProfileController"),a=b("controllers/AboutController"),e=b("models/Archive"),i=b("models/Institute"),b("lib/fakeData"),d=function(b){function c(){var a=this;c.__super__.constructor.apply(this,arguments),m.Route.setup(),$("body").prepend((new ZooniverseBar).el),m.Route.bind("change",function(){if(m.Route.path.indexOf("transcribe")===-1)return $("body").removeClass()}),setTimeout(function(){return i.fetch()},300)}return p(c,b),c.prototype.controllers={home:h,archivesIndex:f,archivesShow:g,transcribe:n,instituteShow:j,login:k,profile:l,about:a},c.prototype.routes={"/":"home","/archives":"archivesIndex","/archives/":"archivesIndex","/archives/type/:type":"archivesIndex","/archives/:id":"archivesShow","/archives/:archiveID/transcribe":"transcribe","/collections":"archivesIndex","/collections/":"archivesIndex","/collections/type/:type":"archivesIndex","/collections/:id":"archivesShow","/collections/:collectionID/transcribe":"transcribe","/transcribe/:id":"transcribe","/transcribe":"transcribe","/transcribe/":"transcribe","/institutes/:id":"instituteShow","/login":"login","/profile":"profile","/about":"about","/about/:section":"about"},c.prototype["default"]="home",c}(m.Stack),c.exports=d})).call(this)},"lib/fakeData":function(a,b,c){((function(){var a,c,d;c=b("models/Institute"),a=b("models/Archive"),d=b("models/Subject"),window.entities=[{name:"RECORD POSITION",instructions:"Drag & resize the viewer to the record you want to transcribe.",fields:[],draggable:!0},{name:"record code",draggable:!1,instructions:"Its a 4 digit number located at the top right of the page.",fields:[{type:"text",name:"code"}]},{name:"GENUS & SPECIES",instructions:"2 or 3 latin words in the first line, next to the margin.",draggable:!1,fields:[{type:"text",name:"SPECIES",size:"long"}]},{name:"COLLECTION LOCATION",instructions:"A place name, in the second line.",draggable:!1,fields:[{type:"text",name:"location",size:"long"}]},{name:"COLLECTION DATE",instructions:"A date in the third line.",draggable:!1,fields:[{type:"text",name:"collection_date",size:"long"}]}]})).call(this)},"lib/setup":function(a,b,c){((function(){var a;b("json2ify"),b("es5-shimify"),b("spine"),b("spine/lib/local"),b("spine/lib/ajax"),b("spine/lib/manager"),b("spine/lib/route"),b("spine/lib/relation"),b("lib/zooniverseBar/ZooniverseBar"),a=b("models/User"),window.OuroborusHost="http://localhost:3000/",window.ProjectId="4fa833dd40af47e6ae000001",window.WorkflowId="4fa833dd40af47e6ae000002",window.OuroborusBase="http://localhost:3000/projects/"+ProjectId,window.OuroborusWorkflowBase="http://localhost:3000/projects/"+ProjectId+"/workflows/"+WorkflowId,window.OuroborusGroupBase="http://localhost:3000/projects/"+ProjectId+"/groups/",$.ajaxSetup({beforeSend:function(b){var c,d;d=a.current();if(d)return c=btoa(""+d.name+":"+d.key),b.setRequestHeader("Authorization","Basic "+c)}}),window.zooApi=b("lib/zooniverse/API")})).call(this)},"lib/zooniverse/API":function(a,b,c){((function(){var a,d,e,f,g,h,i=[].slice;a=b("lib/zooniverse/Proxy"),e=a.get,h=a.post,d=a.del,f=a.getJSON,g=function(a){return(a!=null?a.id:void 0)||a},c.exports={get:e,post:h,del:d,getJSON:f,Proxy:a,checkCurrent:function(){var a,b,c;return c=arguments[0],a=2<=arguments.length?i.call(arguments,1):[],b=c.project,f.apply(null,["/projects/"+g(b)+"/current_user"].concat(i.call(a)))},logIn:function(){var a,b,c,d,e;return e=arguments[0],a=2<=arguments.length?i.call(arguments,1):[],c=e.project,d=e.username,b=e.password,f.apply(null,["/projects/"+g(c)+"/login",{username:d,password:b}].concat(i.call(a)))},logOut:function(){var a,b,c,d,e;return e=arguments[0],a=2<=arguments.length?i.call(arguments,1):[],c=e.project,d=e.username,b=e.password,f.apply(null,["/projects/"+g(c)+"/login",{username:d,password:b}].concat(i.call(a)))},fetchSubjects:function(){var a,b,c,d,f,h;return h=arguments[0],a=2<=arguments.length?i.call(arguments,1):[],f=h.project,b=h.group,c=h.limit,d="/projects/"+g(f),b&&(d+="/groups/"+g(b)),d+="/subjects",e.apply(null,[d,{limit:c}].concat(i.call(a)))},fetchFavorites:function(){var a,b,c,d;return d=arguments[0],a=2<=arguments.length?i.call(arguments,1):[],b=d.project,c=d.user,e.apply(null,["/projects/"+g(b)+"/users/"+g(c)+"/favorites"].concat(i.call(a)))},createFavorite:function(){var a,b,c,d,e,f;return f=arguments[0],a=2<=arguments.length?i.call(arguments,1):[],c=f.project,e=f.subjects,b="/projects/"+g(c)+"/favorites",h.apply(null,[b,{favorite:{subject_ids:function(){var a,b,c;c=[];for(a=0,b=e.length;a<b;a++)d=e[a],c.push(g(d));return c}()}}].concat(i.call(a)))},destroyFavorite:function(){var a,b,c,e;return e=arguments[0],a=2<=arguments.length?i.call(arguments,1):[],c=e.project,b=e.favorite,d.apply(null,["/projects/"+g(c)+"/favorites/"+g(b)].concat(i.call(a)))},fetchRecents:function(){var a,b,c,d;return d=arguments[0],a=2<=arguments.length?i.call(arguments,1):[],b=d.project,c=d.user,e.apply(null,["/projects/"+g(b)+"/users/"+g(c)+"/recents"].concat(i.call(a)))},saveClassification:function(){var a,b,c,d,e,f,g;return g=arguments[0],a=2<=arguments.length?i.call(arguments,1):[],d=g.project,f=g.workflow,e=g.subjects,b=g.annotations,c="/projects/"+d+"/workflows/"+f+"/classifications",h.apply(null,[c,{classification:{subject_ids:e},annotations:b}].concat(i.call(a)))},fetchGroup:function(){var a,b,c,d,f;return f=arguments[0],a=2<=arguments.length?i.call(arguments,1):[],c=f.project,d=f.type,b="/projects/"+c+"/groups",e.apply(null,[b,{type:d}].concat(i.call(a)))},fetchSubGroup:function(){var a,b,c,d,f;return f=arguments[0],a=2<=arguments.length?i.call(arguments,1):[],d=f.project,b=f.parentGroupID,c="/projects/"+d+"/groups/"+b+"/groups",e.apply(null,[c].concat(i.call(a)))}}})).call(this)},"lib/zooniverse/config":function(a,b,c){((function(){var a,b={}.hasOwnProperty;a={},a.set=function(c){var d,e,f;f=[];for(d in c){if(!b.call(c,d))continue;e=c[d];if(d==="set")throw new Error('Don\'t overwrite "set" in config.');f.push(a[d]=e)}return f},a.set({dev:!1}),a.apiHost="https://api.zooniverse.org",a.proxyPath="/proxy.html",c.exports=a})).call(this)},"lib/zooniverse/Proxy":function(a,b,c){((function(){var a,d,e,f,g={}.hasOwnProperty,h=function(a,b){function d(){this.constructor=a}for(var c in b)g.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},i=[].slice;d=b("spine"),e=b("lib/zooniverse/config"),f=b("lib/zooniverse/util").remove;if(!e.apiHost){console.log(e);if(!e.apiHost)throw new Error("zooniverse/Proxy needs config.apiHost")}if(!e.proxyPath)throw console.log(e),new Error("zooniverse/Proxy needs config.proxyPath");a=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}var b=this;return h(c,a),c.extend(d.Events),c.iframe=$("<iframe src='"+e.apiHost+e.proxyPath+"'></iframe>"),c.iframe.css({display:"none"}),c.iframe.appendTo("body"),c.external=c.iframe.get(0).contentWindow,c.ready=!1,c.readyDaisyChain=[new $.Deferred],c.requests={READY:new $.Deferred(function(a){return a.always(function(){return c.ready=!0,c.readyDaisyChain[0].resolve(),f(c.readyDaisyChain[0],{from:c.readyDaisyChain})})})},c.headers={},c.postMessage=function(a){return c.external.postMessage(JSON.stringify(a),e.apiHost)},c.request=function(a,b,d,e,g){var h,i,j;return typeof d=="function"&&(g=e,e=d,d=null),i=Math.floor(Math.random()*99999999),h=new $.Deferred(function(){return this.then(e,g)}),j={id:i,type:a,url:b,data:d,headers:c.headers},c.ready?c.postMessage(j):(c.readyDaisyChain.slice(-1)[0].always(function(){return c.postMessage(j),f(h,{from:c.readyDaisyChain})}),c.readyDaisyChain.push(h)),c.requests[i]=h,h.always(function(){return delete c.requests[i]}),h},c.get=function(){return c.request.apply(c,["get"].concat(i.call(arguments)))},c.post=function(){return c.request.apply(c,["post"].concat(i.call(arguments)))},c["delete"]=function(){return c.request.apply(c,["delete"].concat(i.call(arguments)))},c.del=function(){return c.request.apply(c,["delete"].concat(i.call(arguments)))},c.getJSON=function(){return c.request.apply(c,["getJSON"].concat(i.call(arguments)))},$(window).on("message",function(a){var b,d,f,g,h;b=a.originalEvent;if(b.origin!==e.apiHost)return;return h=JSON.parse(b.data),f=h.id,d=h.failure,g=h.response,c.requests[f][!d&&"resolve"||"reject"](g)}),c}.call(this,d.Module),c.exports=a})).call(this)},"lib/zooniverse/util":function(a,b,c){((function(){var a,d,e,f;a=b("spine"),e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=["January","February","March","April","May","June","July","August","September","October","November","December"],d={year:function(a){return""+a.getUTCFullYear()},y:function(a){return(""+a.getUTCFullYear()).slice(0,2)},month:function(a){return f[a.getUTCMonth()]},mon:function(a){return f[a.getUTCMonth()].slice(0,3)},m:function(a){return a.getUTCMonth()+1},date:function(a){return""+a.getUTCDate()},day:function(a){return e[a.getUTCDay()]},d:function(a){return e[a.getUTCDay()].slice(0,3)},time24:function(a){return""+a.getUTCHours()+":"+("0"+a.getUTCMinutes()).slice(-2)},time12:function(a){return""+(a.getUTCHours()%12+12)%12+":"+("0"+a.getUTCMinutes()).slice(-2)},ampm:function(a){return a.getUTCHours()>=12?"am":"pm"}},c.exports={joinLines:function(a){return a.replace(/\n/g,"")},arraysMatch:function(b,c){var d,e,f,g;if(b.length!==c.length)return!1;for(d=f=0,g=b.length;f<g;d=++f){e=b[d];if(b[d]instanceof a.Model){if(!b[d].eql(c[d]))return!1}else if(b[d]instanceof $){if(!b[d].is(c[d]))return!1}else if(b[d]!==c[d])return!1}return!0},remove:function(b,c){var d,e,f,g,h,i;d=c.from,i=[];for(e=g=0,h=d.length;g<h;e=++g){f=d[e];if(b instanceof a.Model){if(!b.eql(f))continue}else if(b instanceof $){if(!b.is(f))continue}else if(b!==f)continue;d.splice(e,1);break}return i},delay:function(a,b){return typeof a=="function"&&(b=a,a=1),setTimeout(b,a)},formatDate:function(a,b){var c,e;b==null&&(b="(date) (month) (year), (time12) (ampm)"),a instanceof Date||(a=new Date(a));for(e in d)c=d[e],~b.indexOf("("+e+")")&&(b=b.replace("("+e+")",c(a)));return b},clamp:function(a,b){var c,d,e;return e=b!=null?b:{min:0,max:1},d=e.min,c=e.max,Math.min(Math.max(a,d),c)}}})).call(this)},"lib/zooniverseBar/ZooniverseBar":function(a,b,c){((function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=window.define||function(a){var b;return b=function(a){return window[a]},window.ZooniverseBar=a(b,null)},a(function(a,c){var d,e,f,g,h,i,j,k,l;return d=a("jQuery"),j=function(a,b){return setTimeout(b,a)},l=function(a){var b,c;return a.constructor===String?"<span>"+a+"</span>":function(){var d;d=[];for(b in a)c=a[b],d.push("<span lang='"+b+"'>"+c+"</span>");return d}().join("")},h=function(){function a(a){var b,c,e;this.el=d('<ul class="zooniverse-menu"></ul>');for(c=0,e=a.length;c<e;c++)b=a[c],this.el.append(b.el),b.el.addClass("zooniverse-menu-item")}return a}(),g=function(){function a(a,b){this.el=d("<li class='zooniverse-link'><a href='"+b+"'>"+l(a)+"</a></li>")}return a}(),f=function(){function a(a,c){this.preventHide=b(this.preventHide,this),this.hide=b(this.hide,this),this.show=b(this.show,this);var e=this;this.el=d('<li class="zooniverse-dropdown"></li>'),a.constructor===Object?this.el.append("<span class='zooniverse-dropdown-heading'>"+l(a)+"</span>"):a.el!=null&&(this.el.append(a.el),a.el.addClass("zooniverse-dropdown-heading")),this.heading=this.el.children().first(),c.constructor===String?this.el.append("<div class='zooniverse-dropdown-content'>"+c+"</div>"):c.el!=null&&(this.el.append(c.el),c.el.addClass("zooniverse-dropdown-content")),this.content=this.el.children().last(),this.el.data("Dropdown",this),this.heading.on("mouseenter",this.show),this.el.on("mouseleave",function(){return delete e.dontHide,e.el.on("mouseenter",e.preventHide),j(333,function(){e.el.off("mouseenter",e.preventHide);if(!e.dontHide)return e.hide()})}),this.hide(!0)}return a.prototype.showing=!1,a.prototype.showStyle={opacity:1,top:"100%"},a.prototype.show=function(){return this.showing=!0,this.el.addClass("open"),this.el.css({"z-index":1}),this.content.css({display:""}),this.content.animate(this.showStyle,250)},a.prototype.hideStyle={opacity:0,top:"50%"},a.prototype.hide=function(a){var b=this;return this.showing=!1,this.el.removeClass("open"),a&&this.content.css(this.hideStyle),this.el.css({"z-index":""}),this.content.animate(this.hideStyle,125,function(){return b.content.css({display:"none"})})},a.prototype.preventHide=function(){return this.dontHide=!0},a}(),e=function(){function a(a,c){this.hide=b(this.hide,this),this.show=b(this.show,this),this.onClickHeading=b(this.onClickHeading,this),this.el=d('<li class="zooniverse-accordion"></li>'),a.constructor===Object?this.el.append("<span class='zooniverse-accordion-heading'>"+l(a)+"</span>"):a.el!=null&&(this.el.append(a.el),a.el.addClass("zooniverse-accordion-heading")),this.heading=this.el.children().first(),c.constructor===String?this.el.append("<div class='zooniverse-accordion-content'>"+c+"</div>"):c.el!=null&&(this.el.append(c.el),c.el.addClass("zooniverse-accordion-content")),this.content=this.el.children().last(),this.el.data("Accordion",this),this.heading.on("click",this.onClickHeading),this.el.hasClass("open")?this.show():this.hide()}return a.prototype.showing=!1,a.prototype.onClickHeading=function(a){var b,c,e,f;f=this.el.siblings(".accordion");for(c=0,e=f.length;c<e;c++)b=f[c],d(b).data("Accordion").hide();return this.showing?this.hide():this.show()},a.prototype.show=function(){var a;return this.showing=!0,this.el.addClass("open"),this.content.css({height:"auto"}),a=this.content.height(),this.content.css({height:0},250),this.content.animate({height:a})},a.prototype.hide=function(){return this.showing=!1,this.el.removeClass("open"),this.content.animate({height:0},250)},a}(),k={home:new g({en:"Zooniverse",de:"Zooniverse",pl:"Zooniverse"},"http://zooniverse.org/"),languages:new f({en:"EN",de:"DE",pl:"PL"},new h([new g("English","#language:en"),new g("Deutsch","#language:de"),new g("Polski","#language:pl")])),about:new g({en:"About",de:"About",pl:"About"},"http://zooniverse.org/about"),projects:new f({en:"Projects",de:"Projects",pl:"Projects"},new h([new e({en:"Space",de:"Space",pl:"Space"},new h([new g("Galaxy Zoo: Hubble","https://www.zooniverse.org/project/hubble"),new g("Moon Zoo","https://www.zooniverse.org/project/moonzoo"),new g("Solar Stormwatch","https://www.zooniverse.org/project/solarstormwatch"),new g("Galaxy Zoo: Mergers","https://www.zooniverse.org/project/mergers"),new g("Galaxy Zoo: Supernovae","https://www.zooniverse.org/project/supernovae"),new g("Planet Hunters","https://www.zooniverse.org/project/planethunters"),new g("Milky Way Project","https://www.zooniverse.org/project/milkyway")])),new e({en:"Climate",de:"Climate",pl:"Climate"},new h([new g("Old Weather","https://www.zooniverse.org/project/oldweather")])),new e({en:"Humanities",de:"Humanities",pl:"Humanities"},new h([new g("Ancient Lives","https://www.zooniverse.org/project/ancientlives")])),new e({en:"Nature",de:"Nature",pl:"Nature"},new h([new g("Whale FM","https://www.zooniverse.org/project/whalefm")]))])),signIn:new f({en:"Sign in",de:"Sign in",pl:"Sign in"},'<form class="zooniverse-sign-in">\n\t<div>\n\t\t<label>\n\t\t\t<input type="text" name="username" />\n\t\t\t<span class="placeholder">Username</span>\n\t\t</label>\n\t</div>\n\t<div>\n\t\t<label>\n\t\t\t<input type="password" name="password" />\n\t\t\t<span class="placeholder">Password</span>\n\t\t</label>\n\t</div>\n\t<div class="zooniverse-action zooniverse-signin">\n\t\t<a href="https://www.zooniverse.org/signup">Create a new account</a>\n\t\t<button type="submit">Sign in</button>\n\t</div>\n</form>')},i=function(){function a(a){this.changeLang=b(this.changeLang,this),this.delegateEvents=b(this.delegateEvents,this);var c,e,f,g,i,j,l;this.leading=["home","languages"],this.trailing=["about","projects","signIn"],d.extend(this,a),this.el||(this.el=d("<div></div>")),this.el.constructor!==d&&(this.el=d(this.el)),this.el.addClass("zooniverse-bar"),l=["leading","trailing"];for(i=0,j=l.length;i<j;i++)e=l[i],f=new h(function(){var a,b,c,d;c=this[e],d=[];for(a=0,b=c.length;a<b;a++)g=c[a],g in k&&d.push(k[g]);return d}.call(this)),f.el.addClass(e),this.el.append(f.el);c=this.el.closest("[lang]").attr("lang"),this.el.attr("lang",c||"en"),this.delegateEvents()}return a.Menu=h,a.Link=g,a.Dropdown=f,a.Accordion=e,a.prototype.delegateEvents=function(){var a=this;return this.el.on("click",'[href^="#language:"]',function(b){return b.preventDefault(),a.changeLang(d(b.target).closest('[href^="#language:"]').attr("href").split(":")[1])}),this.el.on("click",function(a){return a.stopPropagation()}),this.el.on("change",function(a){var b;b=d(a.target);if(b.attr("type")!=="text")return;return b.val()?b.addClass("full"):b.removeClass("full")})},a.prototype.changeLang=function(a){return d("html").attr("lang",a),this.el.attr("lang",a)},a}(),c=i,i})})).call(this)},"models/Archive":function(a,b,c){((function(){var a,d,e,f=function(a,b){return function(){return a.apply(b,arguments)}},g={}.hasOwnProperty,h=function(a,b){function d(){this.constructor=a}for(var c in b)g.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};d=b("spine"),e=b("models/Subject"),a=function(a){function b(){return this.progress=f(this.progress,this),this.complete=f(this.complete,this),this.transcriptionUrl=f(this.transcriptionUrl,this),this.nextSubject=f(this.nextSubject,this),b.__super__.constructor.apply(this,arguments)}return h(b,a),b.configure("Archive","name","metadata","complete","stats","categories"),b.belongsTo("institute","models/Institute"),b.hasMany("subjects",e),b.findBySlug=function(a){var c;return c=b.select(function(b){return b.slug()===a}),c[0]},b.filter=function(a){return a!=null&&a.type!=null?b.select(function(b){return b.categories.indexOf(a.type)!==-1||b.categories.indexOf(_.str.capitalize(a.type))!==-1}):b.all()},b.prototype.nextSubject=function(a){var b=this;return a==null&&(a=null),zooApi.fetchSubjects({project:"notes_from_nature",group:this,limit:1},function(c){var d;if(c.length>0){d=b.subjects().create(c[0]);if(a!=null)return a(d)}else if(a)return a(null)})},b.prototype.transcriptionUrl=function(){return"#/archives/"+this.slug()+"/transcribe"},b.prototype.slug=function(){return this.name.replace(/\s/g,"_")},b.prototype.complete=function(){return this.progress()===100},b.prototype.progress=function(){var a,b,c;return((a=this.stats)!=null?a.total:void 0)>0?100*((b=this.stats)!=null?b.complete:void 0)/((c=this.stats)!=null?c.total:void 0):0},b}.call(this,d.Model),c.exports=a})).call(this)},"models/EOL":function(a,b,c){((function(){var a,d,e=function(a,b){return function(){return a.apply(b,arguments)}},f={}.hasOwnProperty,g=function(a,b){function d(){this.constructor=a}for(var c in b)f.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},h=[].slice;d=b("spine"),a=function(a){function b(){return this.runRequest=e(this.runRequest,this),this.getMediaForSpecies=e(this.getMediaForSpecies,this),this.search=e(this.search,this),this.configure=e(this.configure,this),b.__super__.constructor.apply(this,arguments)}return g(b,a),b.configure("EOL","EOLBaseURL","format","apiKey","version"),b.prototype.EOLBaseURL="http://www.eol.org/api/",b.prototype.format="json",b.prototype.apiKey="ba4d577231b1f8ed74014f3ea8d179f2fffd1e2e",b.prototype.version="1.0",b.prototype.configure=function(){return b.__super__.configure.apply(this,arguments)},b.prototype.search=function(a,b){var c=this;return this.runRequest("search",a,function(a){return b(a.results)})},b.prototype.getMediaForSpecies=function(a,b,c){var d,e=this;return console.log("media types are ",b),b.push(""),d=b.join("=10&"),d+="iucn=1&details=1",this.runRequest("pages",a.id,d,function(a){var b,d,e,f,g,h;d={},h=a.dataObjects;for(f=0,g=h.length;f<g;f++)b=h[f],e=_.last(b.dataType.split("/")),d[e]||(d[e]=[]),d[e].push(b);return a.media=d,c(a)})},b.prototype.runRequest=function(){var a,b,c,d,e;return b=arguments[0],e=arguments[1],c=3<=arguments.length?h.call(arguments,2):[],a=c[c.length-1],d=c.slice(0,c.length-1).join("&"),window.EOLSamp=this,$.getJSON(""+this.EOLBaseURL+"/"+b+"/"+this.version+"/"+e+"."+this.format+"?"+d+"&callback=?",a)},b}(d.Model),c.exports=a})).call(this)},"models/Institute":function(a,b,c){((function(){var a,d,e,f=function(a,b){return function(){return a.apply(b,arguments)}},g={}.hasOwnProperty,h=function(a,b){function d(){this.constructor=a}for(var c in b)g.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};e=b("spine"),a=b("models/Archive"),d=function(b){function c(){return this.stats=f(this.stats,this),this.fetchArchives=f(this.fetchArchives,this),c.__super__.constructor.apply(this,arguments)}return h(c,b),c.configure("Institute","name","metadata"),c.hasMany("archives","models/Archive"),c.fetch=function(){return zooApi.fetchGroup({project:"notes_from_nature",type:"institution"},function(a){var b,d,e,f;for(e=0,f=a.length;e<f;e++)d=a[e],b=c.create(d),b.fetchArchives();return c.trigger("refresh")})},c.prototype.fetchArchives=function(){var b=this;return zooApi.fetchSubGroup({project:"notes_from_nature",parentGroupID:this.id},function(c){var d,e,f;console.log("archive data is ",c);for(e=0,f=c.length;e<f;e++)d=c[e],console.log(b.archives().create(d),b);return a.trigger("refresh")})},c.findBySlug=function(a){return c.select(function(b){return b.slug()===a})},c.prototype.slug=function(){return this.name.replace(/\s/g,"_")},c.prototype.stats=function(){var a,b,c,d,e,f,g,h,i;b={active:0,complete:0,inactive:0,total:0},h=this.archives().all();for(d=0,f=h.length;d<f;d++){a=h[d],i=["active","complete","inactive","total"];for(e=0,g=i.length;e<g;e++)c=i[e],b[c]+=a.stats[c]}return b},c.allStats=function(){var a,b,c,d,e,f,g,h,i;b={active:0,complete:0,inactive:0,total:0},h=this.all();for(d=0,f=h.length;d<f;d++){a=h[d],i=["active","complete","inactive","total"];for(e=0,g=i.length;e<g;e++)c=i[e],b[c]+=a.stats()[c]}return b},c}.call(this,e.Model),c.exports=d})).call(this)},"models/Subject":function(a,b,c){((function(){var a,d,e,f={}.hasOwnProperty,g=function(a,b){function d(){this.constructor=a}for(var c in b)f.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};d=b("spine"),a=b("models/Archive"),e=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return g(c,b),c.configure("Subject","location","metadata","workflow_ids"),c.belongsTo("archive",a),c.next_subject=function(){return c.purge(),$.getJSON(""+OuroborusWorkflowBase+"/subjects",function(a){return console.log(a),c.create(a),c.trigger("gotNext")})},c.getNextForCollection=function(a){return $.getJSON(""+OuroborusGroupBase+"/"+a+"/next_subject",function(a){return c.create(a),c.trigger("gotNext")})},c.purge=function(){var a,b,d,e,f;e=c.all(),f=[];for(b=0,d=e.length;b<d;b++)a=e[b],f.push(a.destroy());return f},c.random=function(){return c.all()[Math.floor(Math.random()*c.count())]},c}.call(this,d.Model),c.exports=e})).call(this)},"models/User":function(a,b,c){((function(){var a,d,e,f=function(a,b){return function(){return a.apply(b,arguments)}},g={}.hasOwnProperty,h=function(a,b){function d(){this.constructor=a}for(var c in b)g.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};d=b("spine"),a=b("models/Archive"),e=function(a){function b(){return this.seenCollection=f(this.seenCollection,this),b.__super__.constructor.apply(this,arguments)}return h(b,a),b.configure("User","id","name","key","collection_ids","avatar"),b.current=function(){return b.first()},b.prototype.seenCollection=function(a){return typeof collections!="undefined"&&collections!==null&&collection_ids.index_of(a.id)},b}(d.Model),c.exports=e})).call(this)},"views/about/legal_issues":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('<div>\n    <h3 class="title first">Legal Issues</h3>\n    <p>After the nephew died without heirs in 1835, President Andrew Jackson informed Congress of the bequest, which amounted to 104,960 gold sovereigns, or US$500,000 ($10,100,997 in 2008 U.S. dollars after inflation). Given the age of the institution, many of the collections have great historical as well as scientific value, such as specimens collected by Darwin.  The museum is a world-renowned centre of research, specialising in taxonomy.The money was invested in shaky state bonds, which quickly defaulted gold sovereigns</p>\n    <figure>\n    <img src="images/img-blackboard.png" alt=""/>\n    <figcaption>A guy with glasses in front of a blackboard.</figcaption>\n    </figure>\n</div>\n\n<div>\n    <h3 class="badge">An introduction to the botanical archivism</h3>\n    <p>After the nephew died without heirs in 1835, President Andrew Jackson informed Congress of the bequest, which amounted to 104,960 gold sovereigns, or US$500,000 ($10,100,997 in 2008 U.S. dollars after inflation). Given the age of the institution, many of the collections have great historical as well as scientific value, such as specimens collected by Darwin.  The museum is a world-renowned centre of research, specialising in taxonomy.The money was invested in shaky state bonds, which quickly defaulted gold sovereigns</p>\n    <figure>\n    <img src="images/img-blackboard.png" alt=""/>\n    <figcaption>The same guy but in video</figcaption>\n    </figure>\n</div>')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/about/outer":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('<div class="wrapper">\n\n   \n      <div class="box-general about">\n        <div class="col3">\n          <h2 class="title">\n            Notes From Nature\n            <span class="subtitle">Contribute to the science. Become a transcriber.</span>\n          </h2>\n        </div>\n      </div>\n\n      <div class="box-general divided">\n\n        <div class="col2">\n          <div class=\'about_content\'></div>\n\n          <div class="box-logos">\n            <span class="text">MUSEUMS INVOLVED</span>\n            <ul class="logos">\n              <li><a href="#"><img alt="National Science Foundation" src="images/national_science_foundation.png" /></a></li>\n              <li><a href="#"><img alt="Natural History Museum" src="images/natural_history_museum.png" /></a></li>\n              <li><a href="#"><img alt="Sernec" src="images/sernec.png" /></a></li>\n            </ul>\n            <p>Interested in publishing your collection? <a href="" class="object">Contact us</a></p>\n          </div>\n        </div>\n        <div class="col1">\n          <ul class="list-links">\n            <li><a href="/#/about/project" class=\'project\'>The project</a></li>\n            <li><a href="/#/about/research" class="research selected">Research</a></li>\n            <li><a href="/#/about/legal_issues" class=\'legal_issues\' >Legal issues</a></li>\n            <li><a href="/#/about/partners" class=\'partners\'>Partners</a></li>\n            <li><a href="/#/about/story" class=\'story\'>The story</a></li>\n          </ul>\n        </div>\n\n      </div>\n\n      <!-- Footer-->\n\n    </div>\n </div>')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/about/partners":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('<div>\n    <h3 class="title first">Partners</h3>\n    <p>After the nephew died without heirs in 1835, President Andrew Jackson informed Congress of the bequest, which amounted to 104,960 gold sovereigns, or US$500,000 ($10,100,997 in 2008 U.S. dollars after inflation). Given the age of the institution, many of the collections have great historical as well as scientific value, such as specimens collected by Darwin.  The museum is a world-renowned centre of research, specialising in taxonomy.The money was invested in shaky state bonds, which quickly defaulted gold sovereigns</p>\n    <figure>\n    <img src="images/img-blackboard.png" alt=""/>\n    <figcaption>A guy with glasses in front of a blackboard.</figcaption>\n    </figure>\n</div>\n\n<div>\n    <h3 class="badge">An introduction to the botanical archivism</h3>\n    <p>After the nephew died without heirs in 1835, President Andrew Jackson informed Congress of the bequest, which amounted to 104,960 gold sovereigns, or US$500,000 ($10,100,997 in 2008 U.S. dollars after inflation). Given the age of the institution, many of the collections have great historical as well as scientific value, such as specimens collected by Darwin.  The museum is a world-renowned centre of research, specialising in taxonomy.The money was invested in shaky state bonds, which quickly defaulted gold sovereigns</p>\n    <figure>\n    <img src="images/img-blackboard.png" alt=""/>\n    <figcaption>The same guy but in video</figcaption>\n    </figure>\n</div>')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/about/project":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('<div>\n    <h3 class="title first">The project</h3>\n    <p>After the nephew died without heirs in 1835, President Andrew Jackson informed Congress of the bequest, which amounted to 104,960 gold sovereigns, or US$500,000 ($10,100,997 in 2008 U.S. dollars after inflation). Given the age of the institution, many of the collections have great historical as well as scientific value, such as specimens collected by Darwin.  The museum is a world-renowned centre of research, specialising in taxonomy.The money was invested in shaky state bonds, which quickly defaulted gold sovereigns</p>\n    <figure>\n    <img src="images/img-blackboard.png" alt=""/>\n    <figcaption>A guy with glasses in front of a blackboard.</figcaption>\n    </figure>\n</div>\n\n<div>\n    <h3 class="badge">An introduction to the botanical archivism</h3>\n    <p>After the nephew died without heirs in 1835, President Andrew Jackson informed Congress of the bequest, which amounted to 104,960 gold sovereigns, or US$500,000 ($10,100,997 in 2008 U.S. dollars after inflation). Given the age of the institution, many of the collections have great historical as well as scientific value, such as specimens collected by Darwin.  The museum is a world-renowned centre of research, specialising in taxonomy.The money was invested in shaky state bonds, which quickly defaulted gold sovereigns</p>\n    <figure>\n    <img src="images/img-blackboard.png" alt=""/>\n    <figcaption>The same guy but in video</figcaption>\n    </figure>\n</div>')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/about/research":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('<div>\n    <h3 class="title first">Research</h3>\n    <p>After the nephew died without heirs in 1835, President Andrew Jackson informed Congress of the bequest, which amounted to 104,960 gold sovereigns, or US$500,000 ($10,100,997 in 2008 U.S. dollars after inflation). Given the age of the institution, many of the collections have great historical as well as scientific value, such as specimens collected by Darwin.  The museum is a world-renowned centre of research, specialising in taxonomy.The money was invested in shaky state bonds, which quickly defaulted gold sovereigns</p>\n    <figure>\n    <img src="images/img-blackboard.png" alt=""/>\n    <figcaption>A guy with glasses in front of a blackboard.</figcaption>\n    </figure>\n</div>\n\n<div>\n    <h3 class="badge">An introduction to the botanical archivism</h3>\n    <p>After the nephew died without heirs in 1835, President Andrew Jackson informed Congress of the bequest, which amounted to 104,960 gold sovereigns, or US$500,000 ($10,100,997 in 2008 U.S. dollars after inflation). Given the age of the institution, many of the collections have great historical as well as scientific value, such as specimens collected by Darwin.  The museum is a world-renowned centre of research, specialising in taxonomy.The money was invested in shaky state bonds, which quickly defaulted gold sovereigns</p>\n    <figure>\n    <img src="images/img-blackboard.png" alt=""/>\n    <figcaption>The same guy but in video</figcaption>\n    </figure>\n</div>')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/about/story":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('<div>\n    <h3 class="title first">The Story</h3>\n    <p>After the nephew died without heirs in 1835, President Andrew Jackson informed Congress of the bequest, which amounted to 104,960 gold sovereigns, or US$500,000 ($10,100,997 in 2008 U.S. dollars after inflation). Given the age of the institution, many of the collections have great historical as well as scientific value, such as specimens collected by Darwin.  The museum is a world-renowned centre of research, specialising in taxonomy.The money was invested in shaky state bonds, which quickly defaulted gold sovereigns</p>\n    <figure>\n    <img src="images/img-blackboard.png" alt=""/>\n    <figcaption>A guy with glasses in front of a blackboard.</figcaption>\n    </figure>\n</div>\n\n<div>\n    <h3 class="badge">An introduction to the botanical archivism</h3>\n    <p>After the nephew died without heirs in 1835, President Andrew Jackson informed Congress of the bequest, which amounted to 104,960 gold sovereigns, or US$500,000 ($10,100,997 in 2008 U.S. dollars after inflation). Given the age of the institution, many of the collections have great historical as well as scientific value, such as specimens collected by Darwin.  The museum is a world-renowned centre of research, specialising in taxonomy.The money was invested in shaky state bonds, which quickly defaulted gold sovereigns</p>\n    <figure>\n    <img src="images/img-blackboard.png" alt=""/>\n    <figcaption>The same guy but in video</figcaption>\n    </figure>\n</div>')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/archives/archive":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('<li class="mine '),this.complete()&&b.push(d("completed")),b.push('">\n  <img src="'),b.push(d(this.metadata.location.image)),b.push('"/> \n  <div class="translucent-box">\n    <div class="progress-bar  '),this.complete()&&b.push(d("completed")),b.push('">\n      <div class="bar" style="width:'),b.push(d(this.progress())),b.push('%"></div>\n        <span class="progress"> '),b.push(d(this.progress())),b.push("%</span>\n    </div>\n    <p>\n      "),b.push(d(this.metadata.description.slice(0,201))),b.push(' ...\n       <a class="object" href=\''),b.push(d("#/archives/"+this.slug())),b.push("'>Checkout this collection</a>\n    </p>\n  </div>\n  "),console.log(this),b.push('\n  <h3 class="title"><a href="#/archives/'),b.push(d(this.slug())),b.push('">'),b.push(d(this.name)),b.push('</a> <span class="subtitle"><a  class=\'institute\' href="#/institutes/'),b.push(d(this.institute().slug())),b.push('">'),b.push(d(this.institute().name)),b.push("</a></span></h3>\n</li>\n\n")})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/archives/archiveList":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){var a,c,d,e;b.push('<div>\n  <ul class="archive-list">                  \n    '),e=this.archives;for(c=0,d=e.length;c<d;c++)a=e[c],b.push("\n      "),b.push(this.archiveTemplate(a)),b.push("\n    ");b.push("\n  </ul>\n</div>\n\n")})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/archives/archiveNotFound":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push("<h1>Could not find this collection</h1>")})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/archives/archiveShow":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('<div class="box-general detail">\n        <div class="col3">\n            <h2>\n                '),b.push(d(this.archive.institute().name)),b.push(" <br/>\n                <span>"),b.push(d(this.archive.name)),b.push('</span>\n            </h2>\n        </div>\n        <div class="translucent-box">\n            <div>\n                <a class="button left" href="'),b.push(d(this.archive.transcriptionUrl())),b.push('">START TRANSCRIBING</a>\n                <div class="percentage">\n                    <span class="title">'),b.push(d(this.archive.progress())),b.push('%</span>\n                    <span class="subtitle done">DONE</span>\n                </div>\n            </div>  \n        </div>\n    </div>          \n\n\n    <div class="box-general divided-green">\n\n        <div class="col2">\n            <div>\n                <p>\n                  '),b.push(d(this.archive.metadata.description)),b.push('\n                </p>\n            </div>\n\n        </div>\n\n        <div class="col1">\n            <div class="box-right">\n                <ul class="status-list">\n                    <li><span class="text">TEMPORAL RANGE</span>'),b.push(d(this.archive.metadata.start_date)),b.push(" / "),b.push(d(this.archive.metadata.end_date)),b.push('</li>\n                    <li><span class="text">GEOGRAPHIC CONTEXT</span> '),b.push(d(this.archive.metadata.regions.join(" | "))),b.push('</li>\n                    <li><span class="text">TAXONOMICAL CONTENT</span>'),b.push(d(this.archive.categories.join(" | "))),b.push('</li>\n                    <li><span class="text">PROGRESS</span>\n\n                    <div class="progress-bar">\n                        <div class="bar" style="width:'),b.push(d(this.archive.progress())),b.push('%"></div>\n                        <span class="progress">'),b.push(d(this.archive.progress())),b.push('%</span>\n                    </div>\n                    </li>\n                    <li><span class="text">USERS PARTICIPATING</span>'),b.push(d(this.archive.metadata.userCount)),b.push('</li>\n                </ul>\n                <a href="'),b.push(d(this.archive.transcriptionUrl())),b.push('" class="button nocolor">START TRANSCRIBING</a>\n            </div>\n        </div>\n\n    </div>\n\n    <div class="box-general">\n\n        <div class="col3">\n            <h3 class="title">Get some badges while contributing on this collection</h3>\n        </div>\n        <div class="col1 omega">\n            <div class="center">\n                <img src="images/badge1.png" alt="avian best friend">\n                <h3 class="badge">Avian Best Friend Badge</h3>\n                <p class="badge">Get this badge digitalizing more than 500 occ. on any birds collection. Get one level upeach time you do 500 <br/>more! <p> \n                <img src="images/line-gray.png"> <br/>\n                <span class="badge">6 users have this</span> \n            </div>\n        </div>\n        <div class="col1 omega">  \n            <div class="center">\n                <img src="images/badge2.png" alt="avian best friend">\n                <h3 class="badge">Globe trotter</h3>\n                <p class="badge">Did you found species in more than 60 countries? You deserve this. Get the Pro level once you get all the countries around the world.<p>\n                <img src="images/line-gray.png"> <br/>\n                <span class="badge">6 users have this</span> \n            </div>\n        </div>\n        <div class="col1">  \n            <div class="center">\n                <img src="images/badge3.png" alt="avian best friend">\n                <h3 class="badge">Forum champion</h3>\n                <p class="badge">Are you a personality on forums about this collection? You deserve this. Gain a level each time you get a different collection.<p>\n                <img src="images/line-gray.png"> <br/>\n                <span class="badge">you and 6 users more have this</span> \n            </div>    \n        </div>\n\n    </div>\n\n    <div class="box-general laptop white">\n\n        <div class="col2">\n            <h3 class="title">What do we need from you?</h3>\n\n            <p>\n            We have thousands of pages from bioligists and researches that contain information about where and when the species was in the past. All we need in this case is to transcibe all this hand-written text. With that information being transcribed, we will be able to know more about the past of our birds which sounds really interesting by the way. With that information being transcribed, we will be able to know more about the past of our birds!\n            </p>\n        </div>\n        <div class="col3">  \n            <ul class="status-list inline">\n                <li><span class="text">USERS PARTICIPATING</span>'),b.push(d(this.archive.metadata.userCount)),b.push('</li>\n                <li><span class="text">AVG. TIME PER PAGE</span>3 min.</li>\n                <li><span class="text">AVG. DIFFICULTY</span>'),b.push(d(this.archive.metadata.difficulty)),b.push('</li>\n                <li class="mar-button"><a href="'),b.push(d(this.archive.transcriptionUrl())),b.push('" class="button next">\n                    <span>TRY WITH ONE PAGE</span>\n                </a>\n                </li>\n            </ul>\n\n\n\n        </div>\n\n\n    </div>\n\n    <div class="box-general divided-blue">\n\n        <div class="col1 omega">\n            <h3 class="title">Contributors<span class="subtitle">We love you all</span></h3>\n            <div id="temp_graph_holder"></div>\n        </div>\n        <div class="col1 omega">\n            <span class="subtitle user">Top users, <a class="object" href="">view all</a></span>\n            <ul class="list-contributors user">\n                <li>\n                <img class="contributors" src="images/contributors.png" alt="">\n                <div>\n                    <a href="" class="name">Luis Villa </a><br>\n                    <span>with 3,219 contributions</span>                   \n                </div>\n                </li>\n                <li>\n                <img class="contributors" src="images/contributors.png" alt="">\n                <div>\n                    <a href="" class="name">Fernado Espinosa</a><br>\n                    <span>with 1,932 contributions</span>\n                </div>\n                </li>\n                <li>\n                <img class="contributors" src="images/contributors.png" alt="">\n                <div>\n                    <a href="" class="name">Diego Cano</a><br>\n                    <span>with 779 contributions</span>\n                </div>\n                </li>\n            </ul>\n        </div>\n\n        <div class="col1">  \n            <div class="box-right">\n                <h3 class="title">On the forums...<span class="subtitle">Latest activity on the <a class="object" href="">forum</a></span></h3>\n                <ul class="list-forum">\n                    <li>\n                    <a href="" class="name">I dont get it</a><br>\n                    <span class="ico-comments">23 comments  3 days ago</span>\n                    </li>\n                    <li>\n                    <a href="" class="name">Problem in page 23</a><br>\n                    <span class="ico-comments">23 comments  13 hours ago</span>\n                    </li>\n                    <li>\n                    <a href="" class="name">Beautiful species found yest...</a><br>\n                    <span class="ico-comments">2 comments  13 hours ago</span>\n                    </li>\n                </ul>\n            </div>            \n\n\n        </div>\n\n\n    </div>\n\n')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/archives/topBar":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){var a;b.push('<div class="box-general">\n    <div class="col2">\n        <h2 class="title">\n            '),b.push(d(this.archives.length)),b.push(" "),b.push(d((a=this.options)!=null?a.type:void 0)),b.push(' collections available  <br/>\n            <span>Browse through them and select your favourite</span>                      \n        </h2>\n    </div>\n\n    <div class="switch">\n        <a href="#" class="selected">VIEW ALL</a>\n        <a href="#">ONLY YOURS</a>\n        <div class="bkg"></div>\n    </div>\n    <span class="switch selected" data-show="Show completed collections" data-selected="Hide completed collections">\n        Show completed collections\n    </span>\n</div>  ')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/footer":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('   \n<div class="box-black">\n    <div class="col2">\n        <h3 class="title black">\n            <span>Notes from</span>\n            <span class="black">Nature</span>\n        </h3>\n        <p>Here would go a short description of the project, the partners involved and the main objective. \n        Also we should invite users and institutions from here to participate on the project. This is gonna be\n        a beautiful project that is something we all think, and for sure is gonna be a real thing.</p>\n        <p>The Earth is the only world known so far to harbor life. There is nowhere else, at least in the near\n        future, to which our species could migrate. Visit, yes. Settle, not yet. Like it or not, for \n        the moment the Earth is where we make our stand.</p>\n    </div>\n\n    <div class="col1">\n        <div class="link-footer">\n            <span>DO YOU WANT TO KNOW MORE?</span><br />\n            <a href="">Support</a>\n            / <a href="">FAQ</a>\n            / <a href="about.html">About the project</a>\n        </div>\n    </div>\n</div>\n<hr />\n<div class="box-black">\n    <div class="col3">\n        <span class="legal">Notes from Nature 2012. <a href="#" class="legal">Legal terms</a></span>\n    </div>          \n</div>\n')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/header":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('<div class="col1 alpha">\n    <h1 class="title">\n        <span>Notes from</span>\n        <span class="green">Nature</span>\n    </h1>\n</div>      \n\n\n<div class="link-navigation bg right omega">\n    <a href="">FORUM</a>\n    '),this.user!=null?(b.push("\n        <a class='signin_nav_link' href=\"#/profile\">"),b.push(d(this.user.name)),b.push("</a>\n    ")):b.push("\n        <a class='signin_nav_link' href=\"#/login\">SIGNIN / SIGNUP</a>\n    "),b.push('\n</div>        \n\n<div class="link-navigation bg right">\n    <a href="#/archives">COLLECTIONS</a>\n    <a href="">BLOG</a>\n    <a href="">FORUM</a>\n</div>\n\n')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/home/content":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('<div class="box-general">       \n        <div class="col3">\n            <h3 class="title">Why this is important?</h3>\n        </div>\n        <div class="col1 omega">\n            <div class="center">\n                <img src="images/badge-x.png" alt="avian best friend">\n                <h3 class="badge">Museums have lots of interesting specimens</h3>\n                <p class="badge"> Without having all the information that the collections have on the specimens, scienfics cannot get all the value behind them.<p> \n            </div>\n        </div>\n        <div class="col1 omega">  \n            <div class="center">\n                <img src="images/badge-x.png" alt="avian best friend">\n                <h3 class="badge">Become a real <br/> transcriber!</h3>\n                <p class="badge">Get started contributing to any collection and get badges on the way. Are you ready to be a real transcripter and do real science?<p>\n            </div>\n        </div>\n        <div class="col1">  \n            <div class="center">\n                <img src="images/badge-x.png" alt="avian best friend">\n                <h3 class="badge">You are contributing to the science. Thank you!</h3>\n                <p class="badge">Without having all the information that the collections have on the specimens, scienfics cannot get all the value behind them.<p>\n            </div>    \n        </div>\n\n    </div>\n\n    <div class="box-general laptop laptop-home">        \n        <div class="col2">\n            <h3 class="title">3,123 Users already participating</h3>\n            <p> We have thousands of pages from bioligists and researches that contain information about where and when the species was in the past. All we need in this case is to transcibe all this hand-written text. With that information being transcribed, we will be able to know more about the past of our birds which sounds really interesting by the way. With that information being transcribed, we will be able to know more about the past of our birds!  </p>\n        </div>\n        <div class="col3">  \n            <ul class="status-list inline">\n                <li class="logos">\n                <span class="text">MUSEUMS INVOLVED</span>\n\n                <ul class="logos">\n                    <li><a href="#"><img alt="Natural History Museum" src="images/natural_history_museum.png" /></a></li>\n                    <li><a href="#"><img alt="Sernec" src="images/sernec.png" /></a></li>\n                    <li><a href="#"><img alt="National Science Foundation" src="images/national_science_foundation.png" /></a></li>\n                </ul>\n\n                <p>Interested in publishing your collection? <a href="" class="object">Contact us</a></p>\n                </li>\n                <li class="mar-button">\n                    <a href="#/transcribe" class="button next"><span>TRY WITH ONE PAGE</span> </a>\n                </li>\n            </ul>\n        </div>\n    </div>')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/home/header":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('<div class="link-navigation bg left alpha col1">\n  <a href="#/collections" class="alpha">COLLECTIONS</a>\n  <a href="">BLOG</a>\n</div>\n\n<div class="center col1">\n  <h1 class="title">\n    <span>Notes from</span>\n    <span class="green">Nature</span>\n  </h1>\n</div>              \n\n<div class="link-navigation bg right omega">\n    <a href="">FORUM</a>\n    '),this.user!=null?(b.push("\n        <a class='signin_nav_link' href=\"#/profile\">"),b.push(d(this.user.name)),b.push("</a>\n    ")):b.push("\n        <a class='signin_nav_link' href=\"#/login\">SIGNIN / SIGNUP</a>\n    "),b.push("\n</div>\n")})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/home/splash":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('<div class="box-general home">\n    <div class="col3">\n        <div class="center">          \n            <hgroup>\n            <h3>Contribute to the science and become a transcriber</h3>\n            <h2> TAKE NOTES FROM<br>NATURE </h2>\n            </hgroup>\n        </div>\n    </div>\n    <div class="species-selector center"> \n        <a href="#/collections/type/birds"><img src="images/box-birds.png" alt="" /></a>\n        <a href="#/collections/type/plants"><img src="images/box-plants.png" alt="" /></a>\n        <a href="#/collections"><img src="images/box-view.png" alt="" /></a>\n    </div>\n</div>                  ')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/home/stats":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('<div class="counters"> \n    <div class="box-black-numbers">\n        <span class="numbers">'),b.push(d(this.archiveCount)),b.push('</span>\n        <span class="subtitle">Collections available</span> \n    </div>          \n    <div class="box-black-numbers">\n        <span class="numbers">'),b.push(d(this.subjects)),b.push('</span>\n        <span class="subtitle">Specimens in total</span>  \n    </div>          \n    <div class="box-black-numbers">\n        <span class="numbers">'),b.push(d(this.progress)),b.push('%</span>\n        <span class="subtitle">Already digitized</span> \n    </div>          \n    <div class="box-black-numbers">\n        <span class="numbers">1,312</span>\n        <span class="subtitle">Users contributing</span>  \n    </div>          \n</div>\n')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/institutes/archiveDetails":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('<div class="box-general green">\n  <div class="col2">\n    <div>\n      <h3 class="title">'),b.push(d(this.name)),b.push("</h3>\n      <p>"),b.push(d(this.metadata.description)),b.push(' <a class="object" href="">...</a> </p>\n    </div>\n  </div>\n  <div class="col1 marker">\n    <div class="box-right">\n      <h3 class="title">'),b.push(d(this.metadata.progress)),b.push('% done.</h3>\n      <ul class="status-list">\n        <li><span class="text">USERS PARTICIPATING</span>'),b.push(d(this.metadata.userCount)),b.push('</li>\n\n        <li class="progress">\n                      <span class="text">PROGRESS</span>\n                      <div class="progress-bar">\n                          <div class="bar" style="width:'),b.push(d(this.metadata.progress)),b.push('%"></div>\n                          <span class="progress">'),b.push(d(this.metadata.progress)),b.push('%</span>\n                      </div>\n        </li>\n\n      </ul>\n      <a href="">Contribute to this collection</a>\n    </div>\n  </div>\n</div>\n')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/institutes/instituteNotFound":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push("<h1> Could not find museum</h1>")})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/institutes/instituteShow":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){var a,c,e,f,g,h,i;b.push('\n      \n  <div class="box-general museum">\n    <div class="col3">\n      <h2 class="title">\n        '),b.push(d(this.institute.name)),b.push("\n        "),console.log("institute is ",this.institute),b.push('\n        <span class="subtitle">'),b.push(d(this.institute.metadata.regions.join(","))),b.push('</span>\n        <img class="logo" src="images/logoMuseum.png" alt="Natural History Museum" />\n      </h2>\n    </div>\n  </div>          \n\n  <div class="box-general divided">\n  \n    <div class="col2">\n      <div>\n        <p>'),b.push(this.institute.metadata.description),b.push('</p>\n      </div>\n\n    </div>\n    <div class="col1">\n      <div class="links-left">            \n        <span class="text">MORE INFORMATION</span>\n        <a href="'),b.push(d(this.institute.metadata.url)),b.push('" class="object noline">'),b.push(d(this.institute.metadata.url)),b.push('</a>\n        <span class="text">MORE INFORMATION</span>\n        <ul>\n          '),h=this.institute.archives().all();for(c=0,f=h.length;c<f;c++)a=h[c],b.push('\n            <li class="bullet"><a href="" class="object noline">'),b.push(d(a.name)),b.push("</a></li>\n          ");b.push("\n          \n        </ul>       \n      </div>\n    </div>\n    \n  </div>\n  \n  \n  "),i=this.institute.archives().all();for(e=0,g=i.length;e<g;e++)a=i[e],b.push("\n    "),b.push(this.archiveTemplate(a)),b.push("\n  ");b.push('    \n\n  <div class="box-general divided-bg">\n  \n    <div class="col2">\n      <div>\n        <h3 class="title">Big Numbers\n        <span class="subtitle">Some numbers about the museum on Notes from Nature</span>\n        </h3>\n        <ul class="list-graphics">\n          <li>\n                        <div class="count"><strong>13,931</strong>\n                            <span>Pages transcribed</span>\n                        </div>\n                        <img class="chart" src="http://chart.apis.google.com/chart?chf=bg,s,F5F8F8&chs=145x115&cht=lc&chco=FFFFFF&chd=s:Xhiugtqi&chg=-1,-1,0,0&chls=2,4,0&chm=B,C5D4B5BB,0,0,0&cht=lc:nda" />\n                        </li>\n\n          <li>\n                        <div class="count"><strong>13,931</strong>\n                            <span>Pages pending</span>\n                        </div>\n                        <img class="chart" src="http://chart.apis.google.com/chart?chf=bg,s,F5F8F8&chs=145x115&cht=lc&chco=FFFFFF&chd=s:Xhiugtqi&chg=-1,-1,0,0&chls=2,4,0&chm=B,C5D4B5BB,0,0,0&cht=lc:nda" />\n                        </li>\n\n          <li>\n                        <div class="count"><strong>13,931</strong>\n                            <span>Volunteers</span>\n                        </div>\n                        <img class="chart" src="http://chart.apis.google.com/chart?chf=bg,s,F5F8F8&chs=145x115&cht=lc&chco=FFFFFF&chd=s:Xhiugtqi&chg=-1,-1,0,0&chls=2,4,0&chm=B,C5D4B5BB,0,0,0&cht=lc:nda" />\n                        </li>\n\n\n\n        </ul>\n      </div>\n    </div>\n    \n    <div class="col1">\n      <div class="box-right">\n        <h3 class="title">Top contributors\n        <span class="subtitle">We love you all</span>\n        </h3>\n        <ul class="list-contributors">\n          <li>\n            <img class="contributors" src="img/contributors.png" alt="" />\n            <div>                 \n              <a href="" class="name">Luis Villa </a><br/>\n              <span>with 3,291 contributions</span>\n            </div>\n          </li>\n          <li>\n            <img class="contributors" src="img/contributors.png" alt="" />\n            <div>                 \n              <a href="" class="name">Fernado Espinosa </a><br/>\n              <span>with 1,932 contributions</span>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n    \n  </div>          \n')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/login/login":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push("<div class=\"box-general\" style='height:400px'>   \n\n  <form>\n\n  <p>Username : <input type='text' class='username' name=\"username\" placeholder='username' /></p>\n\n  <p>Password : <input type='password' class='password' name=\"password\" placeholder='password' /> </p>\n  <input type ='submit' / >\n  </form>\n</div>")})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/profile/profile":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push(' <div class="box-general">\n        <div class="col3">\n            <div class="box-user">\n                <img src="'),b.push(d(this.user.avatar||"images/coque-design.png")),b.push('" />\n            </div>\n\n            <h2 class="title user">\n                '),b.push(d(this.user.name)),b.push('\n                <span class="subtitle"><a class="object" href="">Edit your account</a></span>\n            </h2>\n        </div>\n    </div>          \n\n    <div class="box-general divided">\n\n        <div class="col2">\n\n            <h3 class="title">A transcriber\'s life <span class="subtitle">See Coque Designs\' activity</span></h3>\n\n            <div class="time-box">\n                <ul class="time-life">\n                    <li>\n                    <div>\n                        <span class="text">IN MARCH 2012</span>\n                        <span class="value">Transcribed 2,362 entries.</span>\n                    </div>\n                    </li>\n                    <li>\n                    <div>\n                        <span class="text">TWO WEEKS AGO</span>\n                        <span class="value">Started collaborating in </span>\n                        <a class="object" href="">Birds collection</a>\n                    </div>\n                    </li>\n                    <li>\n                    <div>\n                        <span class="text">IN FEBRUARY 2012</span>\n                        <span class="value">Transcribed 2,362 entries.</span>\n                    </div>\n                    </li>\n                    <li>\n                    <div>\n                        <span class="text">IN JANUARY 2012</span>\n                        <span class="value">Transcribed 2,362 entries.</span>\n                    </div>\n                    </li>\n                    <li>\n                    <div>\n                        <span class="text">2012 NOV 3RD</span>\n                        <span class="value">Won the</span>\n                        <a class="object" href="">Avian Best Friend Badge</a>\n                    </div>\n                    </li>\n                    <li>\n                    <div>\n                        <span class="text">IN MARCH 2012</span>\n                        <span class="value">Transcribed 2,362 entries.</span>\n                    </div>\n                    </li>\n\n                    <li>\n                    <div>\n                        <span class="text">2011 MAY 2ND</span>\n                        <span class="value">Reached Top 10 colaborators of</span>\n                        <a class="object" href="">Birds Collection</a>\n                    </div>\n                    </li>\n\n                    <li class="previous page0">\n                    <div>\n                        <a class="object" href="">Previous activity</a>\n                    </div>\n                    </li>\n\n                    <li class="hidden page1">\n                    <div>\n                        <span class="text">2011 MAY 2NDx</span>\n                        <span class="value">Test</span>\n                        <a class="object" href="">Birds Collection</a>\n                    </div>\n                    </li>\n\n                    <li class="hidden page1">\n                    <div>\n                        <span class="text">IN FEBRUARY 2012</span>\n                        <span class="value">Transcribed 2,362 entries.</span>\n                    </div>\n                    </li>\n\n\n\n                    <li class="hidden previous page1">\n                    <div>\n                        <a class="object" href="">Previous activity</a>\n                    </div>\n                    </li>\n\n                    <li class="hidden page2">\n                    <div>\n                        <span class="text">TWO WEEKS AGO</span>\n                        <span class="value">Started collaborating in </span>\n                        <a class="object" href="">Birds collection</a>\n                    </div>\n                    </li>\n\n                    <li class="hidden page2">\n                    <div>\n                        <span class="text">IN FEBRUARY 2012</span>\n                        <span class="value">Transcribed 2,362 entries.</span>\n                    </div>\n                    </li>\n\n\n\n                </ul>\n\n                <ul class="time-life-graf">\n                    <li>\n                    <div>\n                        <img src="images/ico-write.png" />\n                    </div>\n                    </li>\n                    <li>\n                    <div>\n                        <img src="images/circle-old-woman.png"  />\n                    </div>\n                    </li>\n                    <li>\n                    <div class="small">\n                        <img src="images/ico-write.png" />\n                    </div>\n                    </li>\n                    <li>\n                    <div class="small">\n                        <img src="images/ico-write.png" />\n                    </div>\n                    </li>\n                    <li>\n                    <div>\n                        <img src="images/circle-chicken.png" />\n                    </div>\n                    </li>\n                    <li>\n                    <div class="small">\n                        <img src="images/ico-write.png" />\n                    </div>\n                    </li>\n                    <li>\n                    <div>\n                        <img src="images/circle-cup.png"  />\n                    </div>\n                    </li>\n\n                    <li class="previous page0">\n                    <div>\n                        <img src="images/circle-plus.png" />\n                    </div>\n                    </li>\n\n                    <li class="hidden page1">\n                    <div class="small">\n                        <img src="images/ico-write.png" />\n                    </div>\n                    </li>\n\n                    <li class="hidden page1">\n                    <div class="small">\n                        <img src="images/ico-write.png" />\n                    </div>\n                    </li>\n\n\n                    <li class="previous hidden page1">\n                    <div>\n                        <img src="images/circle-plus.png" />\n                    </div>\n                    </li>\n\n                    <li class="hidden page2">\n                    <div class="small">\n                        <img src="images/ico-write.png" />\n                    </div>\n                    </li>\n\n                    <li class="hidden page2">\n                    <div class="small">\n                        <img src="images/ico-write.png" />\n                    </div>\n                    </li>\n\n\n\n\n                </ul>\n            </div>\n        </div>\n\n\n        <div class="col1">\n            <div class="box-right">\n\n                <ul class="user-list inline">\n                    <li>\n                    <h3 class="title">32,277<span class="subtitle">Entries transcribed</span></h3>\n                    </li>\n                    <li>\n                    <h3 class="title">3<span class="subtitle">Collections</span></h3>\n                    </li>\n                </ul>\n\n                <hr>\n\n                <h3 class="title">His badges <span class="subtitle">Won 5 badges up to row</span></h3>\n                <ul class="badges-list">\n                    <li>\n                    <img src="images/badge1.png" />\n                    </li>\n                    <li>\n                    <img src="images/badge2.png" />\n                    </li>\n                    <li>\n                    <img src="images/badge3.png" />\n                    </li>\n                    <li>\n                    <img src="images/badge1.png" />\n                    </li>\n                    <li>\n                    <img src="images/badge2.png" />\n                    </li>\n                </ul>\n            </div>\n        </div>\n\n    </div>          ')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/transcription/double":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/transcription/entity":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){var a,c,e,f,g,h,i,j;b.push('<form class="in">\n  '),i=this.fields;for(e=0,g=i.length;e<g;e++){a=i[e],b.push("\n    ");if(a.type==="text")b.push('\n      <input type="text" value="" placeholder="'),b.push(d(this.name)),b.push('" name="collector" class="long '),b.push(d(this.name.split(" ")[0])),b.push('" />\n    ');else if(a.type==="select"){b.push("\n      <select name='field.name'>\n        <option value=0  selected disabled> "),b.push(d(this.name)),b.push(" </option>\n        "),j=a.options;for(f=0,h=j.length;f<h;f++)c=j[f],b.push("\n          <option >"),b.push(d(c)),b.push("</option>\n        ");b.push("\n      </select>\n    ")}b.push("\n  ")}b.push('\n\n  <input type="submit" value="ok" class="button green small"  style=\''),this.fields.length===0&&b.push(d("right:-24px")),b.push("' />\n</form>\n\n<p style='"),this.fields.length===0&&b.push(d("right:-30px")),b.push("'>\n  "),b.push(d(this.instructions)),b.push("\n  <a href=\"#\" class='example'>See Example</a> | <a href=\"#\" class='skip'>Skip This Field</a>\n  <span class='tail'></span>\n</p>\n")})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/transcription/header":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('\n<div class="left">\n  <h1>BIRDS COLLECTION</h1>\n  <h2>from The Natural History Museum of London</h2>\n</div>\n<div class="right">\n  <span><h5 class=\'noOfRecordsDone\'>0</h5><label>RECORDS DONE</label></span>\n  <a class="button green nextSubject" href="/transcribing.html?2">NEXT PAGE</a>\n</div>\n')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/transcription/main":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('<div class="transcribing double" style=\'margin-top:100px\'>\n    <div class="scrollpane">\n        <img src="'),b.push(d(this.subject.location.standard)),b.push('" alt="" title="" />\n    </div>\n</div>\n')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/transcription/marker":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){var a,c,e,f;b.push('<div class="marker" >\n  <ul>\n    '),f=this.annotation;for(c=0,e=f.length;c<e;c++)a=f[c],b.push("\n      <li>\n        "),b.push(d(a.name)),b.push(" : "),b.push(d(a.value)),b.push("\n      </li>\n    ");b.push("\n  </ul>\n</div>")})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/transcription/outOfSubjects":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push("<h1> We are currently out of subjects</h1>\n<p>Check back for more soon</p>")})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/transcription/sernac":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('<div class="transcribing sernac">\n   <div class="scrollpane">\n      <img style="margin-left:auto; margin-right:auto;display:block" src="'),b.push(d(this.subject.location.standard)),b.push('" alt="" title="" />\n  </div>\n</div>\n')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/transcription/single":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){b.push('<div class="transcribing" style=\'margin-top:100px\'>\n  <img src="'),b.push(d(this.subject.location)),b.push('" alt="" title="" />\n</div>\n')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/transcription/speciesInfo":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){var a,c,e,f;console.log("in template",this),b.push("\n\n<div class='speciesInfo' style='position:absolute; left:10px; top:20px; width: 500px; height: 500px; z-index:10000; background-color:yellow'>\n  <ul>\n    <li> Species Name : "),b.push(d(this.species.content)),b.push("</li>\n    <li> Images</li>\n    <li>\n      "),f=this.media.media.StillImage;for(c=0,e=f.length;c<e;c++)a=f[c],b.push("\n        <img src= "),b.push(d(a.eolThumbnailURL)),b.push(" style='width:100px; display:inline-block; vertical-align:middle'>\n      ");b.push("\n    </li>\n  </ul>\n</div>")})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}},"views/transcription/transcriptionBox":function(a,b,c){c.exports=function(a){a||(a={});var b=[],c=function(a){var c=b,d;return b=[],a.call(this),d=b.join(""),b=c,e(d)},d=function(a){return a&&a.ecoSafe?a:typeof a!="undefined"&&a!=null?g(a):""},e,f=a.safe,g=a.escape;return e=a.safe=function(a){if(a&&a.ecoSafe)return a;if(typeof a=="undefined"||a==null)a="";var b=new String(a);return b.ecoSafe=!0,b},g||(g=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){((function(){var a,c,e,f,g;b.push("<div id=\"transcriber\" class='' style=\"width: 1022px; opacity: 1; margin-top: 0px;\">\n  <div class='top'>\n    <ul class=\"titles\">\n      <li class='selected'><label>"),b.push(d(this.currentEntity.name)),b.push("</label></li>\n    </ul>\n    <span class=\"tail left\"></span><span class=\"tail right\"></span>\n    \n  </div>\n  <div class='bottom'>\n    <ul class='explanations'>\n        <li class='selected'>\n          "),b.push(this.entityTemplate(this.currentEntity)),b.push('\n        </li>\n    </ul>\n\n    <div class=\'record right\'>\n      <div class=\'right\'>\n        <a class="button checkRecord orange" href="#finish">FINISH THE RECORD</a>\n\n        <div class="tooltip skip center" style=" display: none; ">\n          <h5>ARE YOU SURE?</h5>\n          <p>If you cant find the value, you can see <a class="example" href="#see_examples">examples</a> that surely will help you</p>\n          <a class="continue orange button small" href="#skip_field">SKIP FIELD</a>\n          <a class="cancel white button small" href="#cancel">CANCEL</a>\n          <span class="tail"></span>\n        </div>\n\n        <div class="step_viewer" style="display: block; ">\n          <a class="choose_step" href="#choose_step">'),b.push(d(this.currentEntityNo+1)),b.push(" / "),b.push(d(this.noOfEntities)),b.push('</a>\n          <ul class="steps">\n            '),g=this.entities;for(c=e=0,f=g.length;e<f;c=++e)a=g[c],b.push('\n              <li class="'),c===this.currentEntityNo&&b.push(d("selected")),b.push('">\n                <a href="" data-stepNo='),b.push(d(c)),b.push(' >\n                  <span class="circle"></span>\n                  '),b.push(d(a.name)),b.push("\n                </a>\n              </li>\n            ");b.push('\n            <span class="tail"></span>\n          </ul>\n        </div>\n\n        <div class="tooltip right" style="display: none; ">\n          <h5>ARE YOU SURE?</h5>\n          <p>There are still <u>14 empty fields</u> for this record that should be completed before finishing.</p>\n          <a class="continue orange button small" href="#finish">FINISH</a>\n          <a class="cancel white button small" href="#cancel">CANCEL</a>\n          <span class="tail"></span>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>')})).call(this)}.call(a),a.safe=f,a.escape=g,b.join("")}}})